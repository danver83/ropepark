(()=>{"use strict";var e=["https://front.tildacdn.com/plugins/sortable-lite/t-sortable-lite.min.js","https://front.tildacdn.com/plugins/sortable-lite/t-sortable-lite.min.css"],t={container:"tcolors",containerThemeDark:"tcolors_dark",input:"tcolors__input",swatch:"tcolors__swatch",panel:"tcolors-panel",panelThemeDark:"tcolors-panel_dark",gradient:"tcolors-gradient",clearBtn:"tcolors__clear-btn"},n={theme:"pe-tooltip_noir",contentAsHTML:!0,interactive:!1,minWidth:50,maxWidth:300,position:"top",delay:700},r={selector:".".concat(t.panel,"__swatch"),handleSelector:".".concat(t.panel,"__swatch"),autoScroll:{speedIndex:.4},isAutoUpdateEnabled:!0,dragImage:{zIndex:99999}},o={"document-color":"document_colors",swatches:"saved_colors",tilda:"tilda_colors","tilda-gradients":"tilda_gradients"},i="https://front.tildacdn.com/colors/colors/colors.json",a=2592e5,l=24,s=["blue","aqua","mintgreen","green","lightgreen","yellow","peach","orange","pink","red","purple","violet","darkgray","lightgray","grayshades"],c=function(e,t,n,r){var o;t[0]=0;for(var i=1;i<t.length;i++){var a=t[i++],l=t[i]?(t[0]|=a?1:2,n[t[i++]]):t[++i];3===a?r[0]=l:4===a?r[1]=Object.assign(r[1]||{},l):5===a?(r[1]=r[1]||{})[t[++i]]=l:6===a?r[1][t[++i]]+=l+"":a?(o=e.apply(l,c(e,l,n,["",null])),r.push(o),l[0]?t[0]|=2:(t[i-2]=0,t[i]=o)):r.push(l)}return r},u=new Map;var p={EN:{solid:"Solid",linear:"Linear",radial:"Radial",document_colors:"Colors on page",saved_colors:"Saved colors",tilda_colors:"Colors library",tilda_gradients:"Gradients library",save_color:"Save color",pick_color:"Pick color from screen",apply:"Apply",clear:"Clear",contrast_ratio:"Contrast",contrast_hint:"The contrast ratio gauges the level of accessibility of your website for individuals with visual impairments. A satisfactory contrast ratio is determined by the colors used for the foreground and background, as well as the size and weight of the font.",angle:"Angle",copied:"Copied",loading:"Loading...",load_error:"Load error",close:"Close panel"},RU:{solid:"Сплошной цвет",linear:"Линейный градиент",radial:"Радиальный градиент",document_colors:"Цвета на странице",saved_colors:"Сохранённые цвета",tilda_colors:"Библиотека цветов",tilda_gradients:"Библиотека градиентов",save_color:"Сохранить цвет",pick_color:"Выбрать цвет с экрана",apply:"Применить",clear:"Очистить",contrast_ratio:"Контраст",contrast_hint:"Коэффициент цветового контраста позволяет оценить доступность вашего сайта для людей с нарушением зрения. Он зависит от цвета текста и фона, а также от размера и насыщенности текста.",angle:"Угол",copied:"Скопировано",loading:"Загрузка...",load_error:"Ошибка загрузки",close:"Закрыть панель"}};function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t=function(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w,S=function(e){var t=u.get(this);return t||(t=new Map,u.set(this,t)),(t=c(this,t.get(e)||(t.set(e,t=function(e){for(var t,n,r=1,o="",i="",a=[0],l=function(e){1===r&&(e||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?a.push(0,e,o):3===r&&(e||o)?(a.push(3,e,o),r=2):2===r&&"..."===o&&e?a.push(4,e,0):2===r&&o&&!e?a.push(5,0,!0,o):r>=5&&((o||!e&&5===r)&&(a.push(r,0,o,n),r=6),e&&(a.push(r,e,0,n),r=6)),o=""},s=0;s<e.length;s++){s&&(1===r&&l(),l(s));for(var c=0;c<e[s].length;c++)t=e[s][c],1===r?"<"===t?(l(),a=[a],r=3):o+=t:4===r?"--"===o&&">"===t?(r=1,o=""):o=t+o[0]:i?t===i?i="":o+=t:'"'===t||"'"===t?i=t:">"===t?(l(),r=1):r&&("="===t?(r=5,n=o,o=""):"/"===t&&(r<5||">"===e[s][c+1])?(l(),3===r&&(a=a[0]),r=a,(a=a[0]).push(2,0,r),r=0):" "===t||"\t"===t||"\n"===t||"\r"===t?(l(),r=2):o+=t),3===r&&"!--"===o&&(r=4,a=a[0])}return l(),a}(e)),t),arguments,[])).length>1?t:t[0]}.bind((function(e,t){this[0]=3;for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];if("function"==typeof e){var a=new e(t).render();return a.append.apply(a,v(o.flat())),a}if("string"==typeof e){var l=["svg","circle"].includes(e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return t&&Object.entries(t).forEach((function(e){var t=g(e,2),r=t[0],o=t[1];if(r.startsWith("on"))Array.isArray(o)?o.forEach((function(e){return l.addEventListener(r.substring(2).toLowerCase(),e)})):l.addEventListener(r.substring(2).toLowerCase(),o);else if("className"===r){var i;(i=l.classList).add.apply(i,v(o.split(" ")))}else if("tooltip"===r)!function(e,t){if("function"!=typeof window.tooltipster||window.matchMedia("(hover: none)").matches)return;window.tooltipster([e],h(h({},n),{},{content:t}))}(l,o);else if("bindTo"===r){if(Array.isArray(o)){var a=g(o,2),s=a[0],c=a[1];s&&"object"===y(s)&&"string"==typeof c&&(s[c]=l)}}else["string","number"].includes(y(o))?l.setAttribute(r,o):"boolean"==typeof o&&o&&l.setAttribute(r,"")})),l.append.apply(l,v(o.flat())),l}if(e instanceof Element)return e}));function T(){var e=[];return{on:function(t){e.push(t)},trigger:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach((function(e){return e.apply(void 0,n)}))}}}function _(e){var t=(Array.isArray(e)?e:[e]).map((function(e){var t=e.split(".").pop(),n=e+(window.ver?"?v="+window.ver:"");return["js","css"].includes(t)?function(e,t){return new Promise((function(n,r){var o,i="style"===t,a=i?"link":"script",l=i?"href":"src";try{o=new URL(e,window.location.href).pathname}catch(t){o=e}var s=document.querySelector("".concat(a,"[").concat(l,'*="').concat(o,'"]'));if(s)return"true"===s.getAttribute("data-loading")?(s.addEventListener("load",n),void s.addEventListener("error",r)):n();var c=document.createElement(a);c.setAttribute(l,e),i&&c.setAttribute("rel","stylesheet"),c.setAttribute("data-loading","true"),c.addEventListener("load",(function(){return c.removeAttribute("data-loading"),n()})),c.addEventListener("error",(function(){return document.head.removeChild(c),r()})),document.head.appendChild(c)}))}(n,"js"===t?"script":"style"):Promise.reject("Unknown resource extension. Make sure the resource url ends with .css or .js")}));return Promise.all(t)}function E(e,t){var n=["RU","EN"].includes(window.lang)?window.lang:"EN";return(t||p)[n][e]||(t||p).EN[e]||e}function P(e,t){var n=null;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];n||(n=window.setTimeout((function(){e.apply(null,o),window.clearTimeout(n),n=null}),t))}}function O(e,t){if(!e)return[0,0,0];var n,r=function(n){if(!t){var r=function(e){if(e.toLowerCase().includes("gradient"))return null;var t=document.createElement("div");t.style.position="fixed",t.style.top="-9999px",t.style.left="-9999px",t.style.width="0px",t.style.height="0px";var n="rgb(1, 1, 1)";t.style.color=n,t.style.color=e,document.body.appendChild(t);var r=window.getComputedStyle(t).getPropertyValue("color");return t.remove(),r===n?null:r}(n);r&&(n=r,e=r)}return n.startsWith("rgba")?"rgba":n.startsWith("rgb")?"rgb":n.startsWith("hsl")?"hsl":"hex"}(e=String(e).toLowerCase());return"rgb"===r?((n=e.replace(/[^0-9,.]/g,"").split(",")).splice(3,n.length),n.length?(1===(n=n.map((function(e){var t=parseFloat(e)||0;return t>255?255:t}))).length&&n.push(0,0),2===n.length&&n.push(0),M(n)):[0,0,0]):"rgba"===r?function(e){var t=e.replace(/[^0-9,.]/g,"").split(",");return t.splice(4,t.length),t.length?(1===t.length&&t.push(0,0,1),2===t.length&&t.push(0,1),3===t.length&&t.push(1),(t=t.map((function(e,t){if(3===t){var n=parseFloat(e);return n=(n=K(n)?n:1)>1?1:n<0?0:n}var r=parseInt(e,10)||0;return r=r>255?255:r<0?0:r})))[3]=parseFloat(t[3].toFixed(2)),[].concat(v(M([t[0],t[1],t[2]])),[t[3]])):[0,0,0,1]}(e):"hsl"===r?function(e){var t=e.replace(/[^0-9,.]/g,"").split(",");return t.splice(3,t.length),t.length?(1===(t=t.map((function(e,t){var n=parseFloat(e)||0;return t?n>100?1:n/100:n>360?1:n/360}))).length&&t.push(0,0),2===t.length&&t.push(0),t):[0,0,0]}(e):"hex"===r?function(e){var t=e.replace(/[^0-9a-fA-F]/g,"").substring(0,6).toLowerCase();return t.length?6===t.length?j(t):(t.length>3&&(t=t.substring(0,3)),t.length<3?j(t=t.padEnd(6,t)):j(t[0]+t[0]+t[1]+t[1]+t[2]+t[2])):j("000000")}(e):[0,0,0]}function k(e,t){if(!e)return!1;return(e=String(e).toLowerCase().replace(/\s{2,}/g,"").replace(/^\s/,"").replace(/\s$/,"")).startsWith("linear-gradient")?function(e){var n=e.match(/^linear-gradient\((.+)\)$/);if(!n)return!1;if(!(n=n[1]))return!1;var r=n.split(/,(?![^(]*\))/);if(r.length<2)return!1;var o,i=r[0];if(i.includes("deg")||i.includes("turn")||i.includes("rad")){var a=i.includes("deg")?"deg":i.includes("turn")?"turn":"rad";i=i.replace(/\s/g,"").replace(/[a-z]/g,""),i=K(i=parseFloat(i))?i:0,"deg"===a&&(i/=360),"rad"===a&&(i/=2*Math.PI),i=i>=0&&i<=1?i:1,o=r.splice(1)}else i=0,o=r;var l=!1;return o.splice(15),o=o.map((function(e,n){var r=(e=e.replace(/^\s/,"").replace(/\s$/,"")).split(/\s(?![^(]*\))/);if(!(r.length>2)){var i,a=O(r[0],t),s=1;return 4===a.length&&(s=a[3],a.splice(3)),r[1]?(i=r[1].replace(/[^0-9.]/g,""),i=K(i=parseFloat(i))&&i>=0&&i<=100?i:0,i/=100):i=n/(o.length-1),{color:a,position:i,opacity:s}}l=!0})),!l&&(i=parseFloat(i.toFixed(3)),{type:"linear",stops:o,angle:i})}(e):!!e.startsWith("radial-gradient")&&function(e){var n=e.match(/^radial-gradient\((.+)\)$/)[1];if(!n)return!1;var r,o=n.split(/,(?![^(]*\))/);if(o.length<2)return!1;r=o[0].includes("circle")||o[0].includes("ellipse")||o[0].includes("side")||o[0].includes("corner")?o.splice(1):o;var i=!1;return r.splice(15),r=r.map((function(e,n){var o=(e=e.replace(/^\s/,"").replace(/\s$/,"")).split(/\s(?![^(]*\))/);if(!(o.length>2)){var a,l=O(o[0],t),s=1;return 4===l.length&&(s=l[3],l.splice(3)),o[1]?(a=o[1].replace(/[^0-9.]/g,""),a=K(a=parseFloat(a))&&a>=0&&a<=100?a:0,a/=100):a=n/(r.length-1),{color:l,position:a,opacity:s}}i=!0})),!i&&{type:"radial",stops:r,angle:0}}(e)}function C(e){return e=e.replace(/#/g,""),[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16)]}function j(e){return M(C(e))}function L(e){var t=g(e,3),n=t[0],r=t[1],o=t[2];n*=360;var i=(1-Math.abs(2*o-1))*r,a=n/60,l=i*(1-Math.abs(a%2-1)),s=o-i/2,c=g(a>=0&&a<1?[i,l,0]:a>=1&&a<2?[l,i,0]:a>=2&&a<3?[0,i,l]:a>=3&&a<4?[0,l,i]:a>=4&&a<5?[l,0,i]:[i,0,l],3),u=c[0]+s,p=c[1]+s,d=c[2]+s;return[u=Math.round(255*u),p=Math.round(255*p),d=Math.round(255*d)]}function x(e){var t=L(e),n=K(e[3])&&e[3]>=0&&e[3]<=1?e[3]:1;return n=parseFloat(n.toFixed(2)),[].concat(v(t),[n])}function D(e){return e.map((function(e){var t=Number(e).toString(16);return 1===t.length?"0"+t:t})).join("")}function A(e){return D(L(e))}function M(e){var t=g(e,3),n=t[0],r=t[1],o=t[2];n/=255,r/=255,o/=255;var i,a,l=Math.max(n,r,o),s=Math.min(n,r,o),c=l-s,u=(l+s)/2;return 0===c?i=0:l===n?i=(r-o)/c%6*60:l===r?i=60*((o-n)/c+2):l===o&&(i=60*((n-r)/c+4)),a=0===u||1===u?0:(l-u)/Math.min(u,1-u),(i/=360)<0&&(i+=1),[i=parseFloat(i.toFixed(4)),a=parseFloat(a.toFixed(4)),u=parseFloat(u.toFixed(4))]}function N(e){var t=g(e,3),n=t[0],r=t[1],o=t[2],i=o*(1-r/2),a=0===i||1===i?0:(o-i)/Math.min(i,1-i);return[n=parseFloat(n.toFixed(4)),a=parseFloat(a.toFixed(4)),i=parseFloat(i.toFixed(4))]}function I(e){var t=g(e,3),n=t[0],r=t[1],o=t[2],i=o+r*Math.min(o,1-o),a=0===i?0:2*(1-o/i);return[n=parseFloat(n.toFixed(4)),a=parseFloat(a.toFixed(4)),i=parseFloat(i.toFixed(4))]}function U(e){var t=g(L(e).map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),3);return.2126*t[0]+.7152*t[1]+.0722*t[2]}function V(e,t){var n=L(e),r=K(t)&&t>=0&&t<=1?t:1;return"rgba(".concat(n.join(","),",").concat(r,")")}function W(e,t){if(!e)return"";var n=t?"linear":e.type,r=e.stops.map((function(e){var t=V(e.color,e.opacity);return"".concat(t," ").concat(Math.round(100*e.position),"%")})).join(",");return"linear"===n?"linear-gradient(".concat(t?.25:e.angle,"turn,").concat(r,")"):"radial"===n?"radial-gradient(circle at center,".concat(r,")"):void 0}function z(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(K(n)&&1!==n&&!t&&(t=[0,0,0]),e.gradient&&Array.isArray(e.gradient.stops)&&e.gradient.stops.length&&r){var o=e.gradient.stops.find((function(e){return e.active}))||e.gradient.stops[0];o.color=t?v(t):[0,0,0],o.opacity=n}else e.gradient=null;e.color=t,e.opacity=n}function G(e,t,n,r){var o=t&&!n,i=window.getComputedStyle(e),a=[],l=i.getPropertyValue("opacity"),s=i.getPropertyValue("display"),c=i.getPropertyValue("visibility");if("0"===l||"none"===s||"hidden"===c)return a;var u=i.getPropertyValue("background-color"),p=i.getPropertyValue("color"),d=i.getPropertyValue("background-image"),h=i.getPropertyValue("border-color"),f=i.getPropertyValue("border-style"),y=i.getPropertyValue("box-shadow").replace(/\).*/,")");if("none"!==u&&"rgba(0, 0, 0, 0)"!==u){var g=x(O(u,!0)),v=g[3];(o||1===v)&&a.push("rgba("+g.join(",")+")")}if("none"!==d&&!d.startsWith("url")){var m=k(d,!0);if(m&&r){var b=W(m);a.push(b)}}if("none"!==p&&"rgba(0, 0, 0, 0)"!==p&&e.childNodes.length){var w=x(O(p,!0)),S=w[3];(o||1===S)&&a.push("rgba("+w.join(",")+")")}if("none"!==h&&"rgba(0, 0, 0, 0)"!==h&&"none"!==f){var T=x(O(h,!0)),_=T[3];(o||1===_)&&a.push("rgba("+T.join(",")+")")}if("none"!==y&&"rgba(0, 0, 0, 0)"!==y){var E=x(O(y,!0)),P=E[3];(o||1===P)&&a.push("rgba("+E.join(",")+")")}return a}function F(e,t){var n,r=e.endX,o=e.endY,i=t.scrollLeft,a=t.scrollTop;requestAnimationFrame((function e(l){void 0===n&&(n=performance.now());var s,c=(s=(l-n)/300)<.5?4*s*s*s:1-Math.pow(-2*s+2,3)/2;t.scrollLeft=i+c*(r-i),t.scrollTop=a+c*(o-a),c<1?requestAnimationFrame(e):(t.scrollLeft=r,t.scrollTop=o)}))}function R(e){if(e.includes("gradient")){var t=k(e,!0),n=t.stops[0]?t.stops[0].color:null,r=t.stops[0]?t.stops[0].opacity:null,o=t.stops[t.stops.length-1]?t.stops[t.stops.length-1].color:null,i=t.stops[t.stops.length-1]?t.stops[t.stops.length-1].opacity:null,a=t.type;if(!(n&&K(r)&&o&&K(i)&&a))return"";var l="#"+A(n).toUpperCase(),s="#"+A(o).toUpperCase(),c=1===r?"":Math.floor(100*r)+"% ",u=1===i?"":Math.floor(100*i)+"% ";return(E(a)+"\n"+l+" "+c+"→ "+(t.stops.length>2?"... → ":"")+s+" "+u).trim()}var p=O(e,!0),d=K(p[3])?p[3]:1;return"#"+A(p).toUpperCase()+(1===d?"":" "+Math.floor(100*d)+"%")}function B(e,t,n){return Math.max(e,Math.min(t,n))}function K(e){return"number"==typeof e&&!isNaN(e)}function H(e,t){if("string"!=typeof e&&!K(e))return[t,t,t,t];var n=K(e)?[e]:e.trim().replace(/\s{2,}/g," ").split(" ").map((function(e){var n=parseInt(e,10);return K(n)?n:t}));return n.splice(4),n.length?1===n.length?[n[0],n[0],n[0],n[0]]:2===n.length?[n[0],n[1],n[0],n[1]]:3===n.length?[n[0],n[1],n[2],n[1]]:n:[t,t,t,t]}function X(e){var t=function(e){if(!e)return!1;var t=window.getComputedStyle(e),n=["auto","scroll"].includes(t.overflowX),r=["auto","scroll"].includes(t.overflowX),o=e.offsetHeight,i=e.scrollHeight,a=e.offsetWidth;return e.scrollWidth>a&&n||i>o&&r};e.addEventListener("wheel",(function(n){var r,o,i=n.deltaX,a=n.deltaY,l=function(n){for(var r=n;!t(r)&&(r=r.parentElement)!==e&&r!==document.documentElement;);return r}(n.target);r=Math.abs(i)>Math.abs(a)?"horizontal":Math.abs(i)<Math.abs(a)?"vertical":"both",(["vertical","both"].includes(r)&&((o=l)&&0===o.scrollTop&&a<0||function(e){return e&&Math.ceil(e.scrollTop+e.clientHeight)>=e.scrollHeight}(l)&&a>0)||["horizontal","both"].includes(r)&&(function(e){return e&&0===e.scrollLeft}(l)&&i<0||function(e){return e&&Math.ceil(e.scrollLeft+e.clientWidth)>=e.scrollWidth}(l)&&i>0))&&n.preventDefault()}),{passive:!1})}function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Z(r.key),r)}}function Z(e){var t=function(e,t){if("object"!=q(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==q(t)?t:String(t)}function Q(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function ee(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var te,ne=new WeakSet,re=new WeakSet,oe=new WeakSet,ie=new WeakSet,ae=new WeakSet,le=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Q(this,ae),Q(this,ie),Q(this,oe),Q(this,re),Q(this,ne),this.props=t,this.elements={},this.props.colorUpdateTrigger.on(ee(this,ae,de).bind(this)),this.props.colorModeUpdateTrigger.on(ee(this,ae,de).bind(this)),this.props.panelToggleTrigger.on(ee(this,ie,pe).bind(this)),this.handlePointerMove=this.handlePointerMove.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this)}var n,r,o;return n=e,(r=[{key:"render",value:function(){var e,n,r=S(w||(e=["\n            <div className="," onPointerDown=",">\n                <div className=","></div>\n                <div\n                    className=",'\n                    style="display:none;"\n                    tabindex="0"\n                    onKeyDown=',"\n                    bindTo=","\n                ></div>\n            </div>\n        "],n||(n=e.slice(0)),w=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))),"".concat(t.panel,"__area"),ee(this,ne,se).bind(this),"".concat(t.panel,"__area-inner"),"".concat(t.panel,"__area-picker"),ee(this,oe,ue).bind(this),[this.elements,"picker"]);return this.elements.container=r,setTimeout(ee(this,ae,de).bind(this),0),r}},{key:"handlePointerMove",value:function(e){var t=e.clientX,n=e.clientY;ee(this,re,ce).call(this,t,n)}},{key:"handlePointerUp",value:function(){document.removeEventListener("pointermove",this.handlePointerMove),document.removeEventListener("pointerup",this.handlePointerUp),document.documentElement.style.removeProperty("user-select")}}])&&J(n.prototype,r),o&&J(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}();function se(e){var t=e.clientX,n=e.clientY;ee(this,re,ce).call(this,t,n),document.addEventListener("pointermove",this.handlePointerMove),document.addEventListener("pointerup",this.handlePointerUp),document.documentElement.style.userSelect="none"}function ce(e,t){var n=this.elements.container.getBoundingClientRect(),r=this.props.colorMode.mode,o=n.left,i=n.top,a=n.width,l=n.height,s=this.props.currentValues,c=s.color,u=s.opacity,p=i+l,d=B(0,(e-o)/(o+a-o),1),h=B(0,(t-i)/(p-i),1),f=c&&c[0]||0,y=d;if("hsl"===r||1===h){var g=1-h;z(this.props.currentValues,[f,y,g],u)}else{var v=1-h;z(this.props.currentValues,N([f,y,v]),u)}this.props.colorChangeTrigger.trigger()}function ue(e){var t=e.key;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(t)){e.preventDefault();var n=e.shiftKey?.05:.01,r=this.props.colorMode.mode,o=this.props.currentValues,i=o.color,a=o.opacity;if(i){if("hsl"===r){var l=Y(i,3),s=l[0],c=l[1],u=l[2];"ArrowUp"===t?u=(u+=n)>1?1:u:"ArrowRight"===t?c=(c+=n)>1?1:c:"ArrowDown"===t?u=(u-=n)<0?0:u:"ArrowLeft"===t&&(c=(c-=n)<0?0:c),z(this.props.currentValues,[s,c,u],a)}else{var p=Y(I(i),3),d=p[0],h=p[1],f=p[2];"ArrowUp"===t?f=(f+=n)>1?1:f:"ArrowRight"===t?h=(h+=n)>1?1:h:"ArrowDown"===t?f=(f-=n)<0?0:f:"ArrowLeft"===t&&(h=(h-=n)<0?0:h),z(this.props.currentValues,N([d,h,f]),a)}this.props.colorChangeTrigger.trigger()}}}function pe(e){if(e)return ee(this,ae,de).call(this);document.removeEventListener("pointermove",this.handlePointerMove),document.removeEventListener("pointerup",this.handlePointerUp),document.documentElement.style.removeProperty("user-select")}function de(){var e=this.props.colorMode.mode,n=this.elements,r=n.container,o=n.picker,i=this.props.currentValues.color;if(r.classList.toggle("".concat(t.panel,"__area_hsl"),"hsl"===e),!i)return r.style.setProperty("--current-hue","0turn"),o.style.removeProperty("transform"),void(o.style.display="none");o.style.removeProperty("display");var a=Y(i,3),l=a[0],s=a[1],c=a[2],u=Y(I(i),3),p=u[1],d=u[2];r.style.setProperty("--current-hue","".concat(l,"turn"));var h=r.getBoundingClientRect(),f=h.width,y=h.height,g="hsl"===e||0===d&&0!==s?f*s:f*p,v="hsl"===e?y*(1-c):y*(1-d);o.style.transform="translate(".concat(g,"px,").concat(v,"px)")}function he(e){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he(e)}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ye(r.key),r)}}function ye(e){var t=function(e,t){if("object"!=he(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=he(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==he(t)?t:String(t)}var ge,ve=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=t}var n,r,o;return n=e,(r=[{key:"render",value:function(){var e,n,r=this.props,o=r.className,i=r.hintText,a=r.label,l=r.bindTo,s="".concat(t.panel,"__hint");return o&&(s+=" ".concat(o)),this.element=S(te||(e=["\n            <div className="," tooltip=",">","</div>\n        "],n||(n=e.slice(0)),te=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))),s,i,a),l&&(l[0][l[1]]=this.element),this.element}}])&&fe(n.prototype,r),o&&fe(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}();function me(e){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},me(e)}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,we(r.key),r)}}function we(e){var t=function(e,t){if("object"!=me(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=me(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==me(t)?t:String(t)}function Se(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function Te(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var _e,Ee=new WeakSet,Pe=new WeakSet,Oe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Se(this,Pe),Se(this,Ee),this.props=t,this.elements={},this.props.panelToggleTrigger.on(Te(this,Pe,Ce).bind(this)),this.props.colorUpdateTrigger.on(Te(this,Ee,ke).bind(this))}var n,r,o;return n=e,(r=[{key:"render",value:function(){var e,n,r=S(ge||(e=["\n            <div className=",' style="display:none;">\n                <div className=',">","</div>\n                <","\n                    className=","\n                    hintText=",'\n                    label="?"\n                />\n                <div className='," bindTo=","></div>\n                <div className="," bindTo=","></div>\n            </div>\n        "],n||(n=e.slice(0)),ge=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))),"".concat(t.panel,"__contrast"),"".concat(t.panel,"__contrast-label"),E("contrast_ratio"),ve,"".concat(t.panel,"__hint_contrast"),E("contrast_hint"),"".concat(t.panel,"__contrast-rate"),[this.elements,"rateElement"],"".concat(t.panel,"__contrast-value"),[this.elements,"valueElement"]);return this.elements.container=r,r}}])&&be(n.prototype,r),o&&be(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}();function ke(){var e=this.props.currentValues,n=e.color,r=e.gradient,o=this.bgColor,i=this.isLargeTxt,a=r||!n||!o,l=this.elements,s=l.container,c=l.rateElement,u=l.valueElement;if(a)s.style.display="none";else{s.style.removeProperty("display");var p,d,h,f,y=(p=o,d=U(n),h=U(p),f=(Math.max(d,h)+.05)/(Math.min(d,h)+.05),parseFloat(f.toFixed(2))),g="Fail";i&&y>=4.5||y>=7?g="AAA":(i&&y>=3||y>=4.5)&&(g="AA"),c.innerText=g,u.innerText=y,c.classList.toggle("".concat(t.panel,"__contrast-rate_fail"),"Fail"===g)}}function Ce(e){if(e){var t=function(e){var t=e.name;if(!["text_color","title_color","descr_color","subtitle_color"].includes(t))return null;t=t.replace("_color","");var n=e.closest("[data-rec-id]");if(!n)return null;var r=n.getAttribute("data-rec-id");return document.querySelector("#rec".concat(r,' [field="').concat(t,'"]'))||null}(this.props.input);this.bgColor=function(e){if(!e)return null;for(var t=e,n=null;t;){var r=window.getComputedStyle(t),o=r.getPropertyValue("background-color"),i=r.getPropertyValue("background-image");if("rgba(0, 0, 0, 0)"!==o&&"none"===i){n=O(o,!0);break}if("none"!==i)break;t=t.parentElement}return n}(t),this.isLargeTxt=function(e){if(!e)return!1;var t=window.getComputedStyle(e),n=t.getPropertyValue("font-size").replace(/[^0-9]/g,""),r=t.getPropertyValue("font-weight");return n>=24||n>=18.66&&r>=700}(t),Te(this,Ee,ke).call(this)}}function je(e){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(e)}function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xe(r.key),r)}}function xe(e){var t=function(e,t){if("object"!=je(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=je(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==je(t)?t:String(t)}function De(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function Ae(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var Me,Ne,Ie=new WeakSet,Ue=new WeakSet,Ve=new WeakSet,We=new WeakSet,ze=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),De(this,We),De(this,Ve),De(this,Ue),De(this,Ie),this.props=t,this.props.colorUpdateTrigger.on(Ae(this,Ve,Re).bind(this))}var n,r,o;return n=e,(r=[{key:"render",value:function(){var e=this.props,n=e.className,r=e.controls,o=e.isOpacityEnabled,i=e.isGradientOpacityOnly,a=this.props.currentValues.gradient,l="".concat(t.panel,"__input");n&&(l+=" ".concat(n));var s="0";"opacity"===r&&(s="100"),"hex"===r&&(s="#000000");var c,u,p=o&&(i&&a||!i);return this.element=S(_e||(c=['\n            <input\n                type="text"\n                className=',"\n                maxlength=","\n                value=","\n                placeholder=","\n                onInput=","\n                onKeydown=","\n                onBlur=","\n                style=","\n            />\n        "],u||(u=c.slice(0)),_e=Object.freeze(Object.defineProperties(c,{raw:{value:Object.freeze(u)}}))),l,"hex"===r?7:3,Ae(this,Ie,Ge).call(this),s,Ae(this,Ue,Fe).bind(this),Ae(this,We,Be).bind(this),Ae(this,Ve,Re).bind(this),"opacity"!==r||p?void 0:"display:none;"),this.element}}])&&Le(n.prototype,r),o&&Le(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}();function Ge(){var e=this.props,t=e.controls,n=e.currentValues,r=n.opacity,o=n.color,i=n.gradient;return o?"opacity"===t?K(r)?Math.round(100*r):"":"angle"===t?i&&K(i.angle)?Math.round(360*i.angle):"":"hex"===t?"#".concat(A(o).toUpperCase()):"hue"===t?Math.round(360*o[0]):"saturation"===t?Math.round(100*o[1]):"luma"===t?Math.round(100*o[2]):"red"===t?L(o)[0]:"green"===t?L(o)[1]:"blue"===t?L(o)[2]:"":""}function Fe(){var e=this.props,t=e.controls,n=e.currentValues,r=e.colorChangeTrigger,o=n.color,i=n.gradient,a=this.element.value;if("opacity"===t){var l=parseInt(a,10);n.opacity=K(l)?B(0,l/100,1):null}if("angle"===t){var s=parseInt(a,10);if(!i)return;i.angle=K(s)?parseFloat(B(0,s/360,1).toFixed(3)):0}if("hex"===t){var c=a.replace(/[^0-9A-Za-z]/g,""),u=O(a);4===u.length&&u.pop(),n.color=c&&a?u:null}if("hue"===t){var p=o||[0,0,0],d=parseInt(a,10);p[0]=K(d)?parseFloat(B(0,d/360,1).toFixed(3)):0,n.color=p}if("saturation"===t){var h=o||[0,0,0],f=parseInt(a,10);h[1]=K(f)?B(0,f/100,1):0,n.color=h}if("luma"===t){var y=o||[0,0,0],g=parseInt(a,10);y[2]=K(g)?B(0,g/100,1):0,n.color=y}if("red"===t){var v=L(o||[0,0,0]),m=parseInt(a,10);v[0]=K(m)?B(0,m,255):0,n.color=M(v)}if("green"===t){var b=L(o||[0,0,0]),w=parseInt(a,10);b[1]=K(w)?B(0,w,255):0,n.color=M(b)}if("blue"===t){var S=L(o||[0,0,0]),T=parseInt(a,10);S[2]=K(T)?B(0,T,255):0,n.color=M(S)}z(n,n.color,n.opacity),r.trigger()}function Re(e){var t=this.props,n=t.controls,r=t.isGradientOpacityOnly,o=t.currentValues,i=t.colorChangeTrigger,a=t.isOpacityEnabled;if("opacity"!==n||a){var l=e&&e.forceUpdate;document.activeElement===this.element&&!l||(this.element.value=Ae(this,Ie,Ge).call(this),"opacity"===n&&r&&!o.gradient?(this.element.style.display="none",K(o.opacity)&&(o.opacity=null,i.trigger())):"opacity"===n&&this.element.style.removeProperty("display"))}}function Be(e){var t=e.key,n=this.props,r=n.controls,o=n.currentValues,i=n.colorChangeTrigger,a=o.color,l=o.opacity,s=o.gradient;if("Enter"===t&&e.preventDefault(),["ArrowUp","ArrowDown"].includes(t)){if("hex"===r)return;e.preventDefault();var c="ArrowUp"===t?1:-1;if("opacity"===r){var u=K(l)?l:1;o.opacity=B(0,u+.01*c,1)}if("angle"===r){if(!s)return;var p=s.angle||0;s.angle=parseFloat(B(0,p+1/360*c,1).toFixed(3))}if("hue"===r){var d=a||[0,0,0];d[0]=parseFloat(B(0,d[0]+1/360*c,1).toFixed(3)),o.color=d}if("saturation"===r){var h=a||[0,0,0];h[1]=B(0,h[1]+.01*c,1),o.color=h}if("luma"===r){var f=a||[0,0,0];f[2]=B(0,f[2]+.01*c,1),o.color=f}if("red"===r){var y=L(a||[0,0,0]);y[0]=B(0,y[0]+1*c,255),o.color=M(y)}if("green"===r){var g=L(a||[0,0,0]);g[1]=B(0,g[1]+1*c,255),o.color=M(g)}if("blue"===r){var v=L(a||[0,0,0]);v[2]=B(0,v[2]+1*c,255),o.color=M(v)}z(o,o.color,o.opacity),i.trigger({forceUpdate:!0})}}function Ke(e){return Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ke(e)}function He(e){return function(e){if(Array.isArray(e))return Xe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$e(r.key),r)}}function $e(e){var t=function(e,t){if("object"!=Ke(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ke(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ke(t)?t:String(t)}function Je(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function Ze(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var Qe,et=new WeakSet,tt=new WeakSet,nt=new WeakSet,rt=new WeakSet,ot=new WeakSet,it=new WeakSet,at=new WeakSet,lt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Je(this,at),Je(this,it),Je(this,ot),Je(this,rt),Je(this,nt),Je(this,tt),Je(this,et),this.props=t,this.elements={},this.props.colorUpdateTrigger.on(Ze(this,tt,ct).bind(this)),this.props.panelToggleTrigger.on(Ze(this,at,ft).bind(this)),this.handleDocumentPointerMoveMarker=this.handleDocumentPointerMoveMarker.bind(this),this.handleDocumentPointerMoveAngle=this.handleDocumentPointerMoveAngle.bind(this),this.handleDocumentPointerUp=this.handleDocumentPointerUp.bind(this)}var n,r,o;return n=e,(r=[{key:"render",value:function(){var e=this.props,n=e.currentValues,r=e.colorChangeTrigger,o=e.colorUpdateTrigger,i=n.gradient,a=W(i,!0),l=i&&i.angle||0,s=S(Me||(Me=qe(["\n            <div className="," style=",">\n                <div className=",">\n                    <div\n                        className=","\n                        style=","\n                        onClick=","\n                        bindTo=","\n                    >\n                        ","\n                    </div>\n                    <div\n                        className=","\n                        style=","\n                        bindTo=","\n                    >\n                        <label className=",">\n                            <span className=",">","</span>\n                            <","\n                                className=",'\n                                controls="angle"\n                                currentValues=',"\n                                colorChangeTrigger=","\n                                colorUpdateTrigger=","\n                            />\n                        </label>\n                        <div\n                            className=","\n                            style=","\n                            onPointerdown=","\n                            onClick=","\n                            bindTo=","\n                        ></div>\n                    </div>\n                </div>\n            </div>\n        "])),"".concat(t.panel,"__gradients"),i?void 0:"display:none","".concat(t.panel,"__gradient-wrapper"),"".concat(t.gradient).concat(i&&i.stops.length>=15?" ".concat(t.gradient,"_disabled"):""),"--current-gradient:".concat(a,";"),Ze(this,it,ht).bind(this),[this.elements,"gradientLine"],Ze(this,et,st).call(this),"".concat(t.panel,"__angle"),i&&"linear"!==i.type?"display:none;":void 0,[this.elements,"angleContainer"],"".concat(t.panel,"__angle-label"),"".concat(t.panel,"__angle-span"),E("angle"),ze,"".concat(t.panel,"__angle-input"),n,r,o,"".concat(t.panel,"__angle-picker"),"--angle:".concat(l,"turn;"),Ze(this,nt,ut).bind(this),this.handleDocumentPointerMoveAngle,[this.elements,"anglePicker"]);return this.elements.container=s,s}},{key:"handleDocumentPointerMoveMarker",value:function(e){var t=this.props.currentValues.gradient;if(t&&t.stops.length){var n=e.clientX,r=e.shiftKey;if(!(this.pointerDownStartPos&&Math.abs(this.pointerDownStartPos-n)<5)){this.pointerDownStartPos=null;var o=this.elements.gradientLine.getBoundingClientRect(),i=o.left,a=B(0,(n-i)/(i+o.width-i),1);a=parseFloat(a.toFixed(r?1:3));var l=t.stops,s=l.find((function(e){return e.active}))||l[0];if(!r){var c=l.indexOf(s),u=c>0?l[c-1]:null,p=c<l.length-1?l[c+1]:null;u&&Math.abs(a-u.position)<.03?a=u.position:p&&Math.abs(a-p.position)<.03&&(a=p.position)}s.position=a,l.sort((function(e,t){return e.position-t.position})),this.props.colorChangeTrigger.trigger()}}}},{key:"handleDocumentPointerMoveAngle",value:function(e){var t=this.props.currentValues.gradient;if(t){var n=e.clientX,r=e.clientY,o=e.shiftKey,i=this.elements.anglePicker.getBoundingClientRect(),a=i.left,l=i.top,s=n-(a+i.width/2),c=-1*(r-(l+i.height/2)),u=180*Math.atan(s/c)/Math.PI;c<0?u+=180:s<0&&(u+=360),o&&(u=15*Math.round(u/15)),u=B(0,u/360,1),u=parseFloat(u.toFixed(3)),t.angle=u,this.props.colorChangeTrigger.trigger()}}},{key:"handleDocumentPointerUp",value:function(){document.removeEventListener("pointermove",this.handleDocumentPointerMoveMarker),document.removeEventListener("pointermove",this.handleDocumentPointerMoveAngle),document.removeEventListener("pointerup",this.handleDocumentPointerUp),document.documentElement.style.removeProperty("user-select");var e=this.elements.gradientLine.querySelector(".".concat(t.gradient,"__marker_selected"));e&&e.focus()}}])&&Ye(n.prototype,r),o&&Ye(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}();function st(){var e=this,n=this.props.currentValues.gradient;return n&&n.stops.length?(n.stops.find((function(e){return e.active}))||(n.stops[0].active=!0),n.stops.map((function(n,r){var o=n.color,i=n.position,a=n.opacity,l=n.active,s=x([].concat(He(o),[a]));return S(Ne||(Ne=qe(["\n                <div\n                    className=","\n                    style=","\n                    onPointerdown=","\n                    onKeyDown=","\n                    tabindex=","\n                    data-index=","\n                >\n                    <div className=","></div>\n                </div>\n            "])),"".concat(t.gradient,"__marker").concat(l?" ".concat(t.gradient,"__marker_selected"):""),"left:".concat(100*i,"%;--marker-color:rgba(").concat(s.join(","),");"),Ze(e,rt,pt).bind(e),Ze(e,ot,dt).bind(e),l?0:void 0,r,"".concat(t.gradient,"__marker-inner"))}))):""}function ct(){var e=this.elements,n=e.gradientLine,r=e.anglePicker,o=e.container,i=e.angleContainer,a=this.props.currentValues.gradient;if(a&&a.stops.length){"linear"===a.type?i.style.removeProperty("display"):i.style.display="none",o.style.removeProperty("display");var l=a.angle||0;r.style.setProperty("--angle","".concat(l,"turn"));var s=W(a,!0);n.style.setProperty("--current-gradient",s),n.innerHTML="",n.append.apply(n,He(Ze(this,et,st).call(this))),n.classList.toggle("".concat(t.gradient,"_disabled"),a.stops.length>=15)}else o.style.display="none"}function ut(){document.addEventListener("pointermove",this.handleDocumentPointerMoveAngle),document.addEventListener("pointerup",this.handleDocumentPointerUp),document.documentElement.style.userSelect="none"}function pt(e){var n=e.target.closest(".".concat(t.gradient,"__marker")),r=parseInt(n.dataset.index,10),o=this.props,i=o.currentValues,a=o.colorUpdateTrigger,l=i.gradient;if(r!==l.stops.findIndex((function(e){return e.active}))){l.stops.forEach((function(e){return e.active=!1}));var s=l.stops[r];s.active=!0,i.color=s.color,i.opacity=s.opacity,a.trigger()}this.pointerDownStartPos=e.clientX,document.addEventListener("pointermove",this.handleDocumentPointerMoveMarker),document.addEventListener("pointerup",this.handleDocumentPointerUp),document.documentElement.style.userSelect="none"}function dt(e){var n=e.key,r=e.shiftKey,o=e.target,i=this.props,a=i.currentValues,l=i.colorChangeTrigger,s=i.colorUpdateTrigger,c=this.elements.gradientLine,u=a.gradient;if(u&&u.stops.length){var p=u.stops,d=p.find((function(e){return e.active}))||p[0];if(["ArrowLeft","ArrowRight"].includes(n)){var h="ArrowLeft"===n?-1:1,f=r?.05*h:.01*h,y=B(0,d.position+f,1);d.position=y,p.sort((function(e,t){return e.position-t.position})),l.trigger(),window.setTimeout((function(){var e=c.querySelector(".".concat(t.gradient,"__marker_selected"));e&&e.focus()}),0)}if("Backspace"===n&&p.length>2){var g=p.indexOf(d),v=g>0?p[g-1]:null,m=g<p.length-1?p[g+1]:null;p.splice(g,1),v?(v.active=!0,a.color=v.color,a.opacity=v.opacity):m&&(m.active=!0,a.color=m.color,a.opacity=m.opacity),l.trigger(),window.setTimeout((function(){var e=c.querySelector(".".concat(t.gradient,"__marker_selected"));e&&e.focus()}),0)}if(["ArrowUp","ArrowDown"].includes(n)){var b=parseInt(o.dataset.index,10),w="ArrowDown"===n;if(!b&&w||b===u.stops.length-1&&!w)return;e.preventDefault();var S=w?b-1:b+1,T=u.stops[S];u.stops.forEach((function(e){return e.active=!1})),T.active=!0,a.color=T.color,a.opacity=T.opacity,s.trigger(),window.setTimeout((function(){var e=c.querySelector(".".concat(t.gradient,"__marker_selected"));e&&e.focus()}),0)}}}function ht(e){var n=this.elements.gradientLine;if(e.target===n){var r=this.props.currentValues,o=r.gradient;if(o&&!(o.stops.length>=15)){var i=n.getBoundingClientRect(),a=i.left,l=a+i.width,s=B(0,(e.clientX-a)/(l-a),1);s=parseFloat(s.toFixed(3));var c=o.stops,u=null,p=null;if(c.forEach((function(e){e.position<s&&(u&&u.position<=e.position||!u)&&(u=e),e.position>s&&(p&&p.position>=e.position||!p)&&(p=e),e.active=!1})),u||p){var d={color:null,opacity:null,position:s,active:!0};if(u)if(p){for(var h=(s-u.position)/(p.position-u.position),f=L(u.color),y=L(p.color),g=[],v=0;v<3;v++){var m=Math.round(f[v]+(y[v]-f[v])*h);g.push(m)}d.color=M(g);var b=null!==u.opacity?u.opacity:1,w=null!==p.opacity?p.opacity:1;d.opacity=b+(w-b)*h;var S=c.indexOf(p);c.splice(S,0,d)}else{d.color=u.color,d.opacity=u.opacity;var T=c.indexOf(u);c.splice(T+1,0,d)}else{d.color=p.color,d.opacity=p.opacity;var _=c.indexOf(p);c.splice(_,0,d)}r.color=d.color,r.opacity=d.opacity,this.props.colorChangeTrigger.trigger(),window.setTimeout((function(){var e=n.querySelector(".".concat(t.gradient,"__marker_selected"));e&&e.focus()}),0)}}}}function ft(e){e||(document.removeEventListener("pointermove",this.handleDocumentPointerMoveMarker),document.removeEventListener("pointermove",this.handleDocumentPointerMoveAngle),document.removeEventListener("pointerup",this.handleDocumentPointerUp),document.documentElement.style.removeProperty("user-select"))}function yt(e){return yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yt(e)}function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vt(r.key),r)}}function vt(e){var t=function(e,t){if("object"!=yt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yt(t)?t:String(t)}function mt(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function bt(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var wt,St,Tt,_t=new WeakSet,Et=new WeakSet,Pt=new WeakSet,Ot=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),mt(this,Pt),mt(this,Et),mt(this,_t),this.props=t,this.props.colorUpdateTrigger.on(bt(this,Et,Ct).bind(this))}var n,r,o;return n=e,(r=[{key:"render",value:function(){var e=this.props,n=e.className,r=e.controls,o=e.isGradientOpacityOnly,i=e.isOpacityEnabled,a=this.props.currentValues.gradient,l="".concat(t.panel,"__range");n&&(l+=" ".concat(n));var s,c,u="hue"===r?.001:.01,p=i&&(o&&a||!o);return this.element=S(Qe||(s=['\n            <input\n                type="range"\n                className=','\n                min="0"\n                max="1"\n                step=',"\n                onInput=","\n                onKeydown=","\n                style=","\n            />\n        "],c||(c=s.slice(0)),Qe=Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(c)}}))),l,u,bt(this,_t,kt).bind(this),bt(this,Pt,jt).bind(this),"opacity"!==r||p?void 0:"display:none;"),bt(this,Et,Ct).call(this),this.element}}])&&gt(n.prototype,r),o&&gt(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}();function kt(){var e=parseFloat(this.element.value),t=this.props,n=t.controls,r=t.currentValues,o=t.colorChangeTrigger;if("opacity"===n&&z(r,r.color,e),"hue"===n){var i=r.color||[0,0,0];i[0]=e,z(r,i,r.opacity)}o.trigger()}function Ct(){var e=this.props,t=e.controls,n=e.currentValues,r=e.isGradientOpacityOnly,o=e.colorChangeTrigger,i=e.isOpacityEnabled;if("opacity"!==t||i){var a=n.color,l=n.opacity;"opacity"===t&&(this.element.value=K(l)?l:1,r&&!n.gradient?(this.element.style.display="none",K(n.opacity)&&(n.opacity=null,o.trigger())):this.element.style.removeProperty("display")),"hue"===t&&(this.element.value=a?a[0]:0)}}function jt(e){var t=e.key,n=e.shiftKey;if("Enter"===t&&e.preventDefault(),["ArrowLeft","ArrowRight"].includes(t)){e.preventDefault();var r="ArrowRight"===t?1:-1,o=n?.05:.01,i=this.element.value,a=this.props.controls,l=parseFloat(i),s=B(0,(l=K(l)?l:"opacity"===a?1:0)+o*r,1);this.element.value=s,this.element.dispatchEvent(new Event("input"))}}function Lt(e){return Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lt(e)}function xt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,At(r.key),r)}}function At(e){var t=function(e,t){if("object"!=Lt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Lt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Lt(t)?t:String(t)}function Mt(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function Nt(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var It,Ut,Vt=new WeakSet,Wt=new WeakSet,zt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Mt(this,Wt),Mt(this,Vt),this.props=t,t.colorUpdateTrigger&&t.colorUpdateTrigger.on(P(Nt(this,Vt,Gt).bind(this),50)),t.panelToggleTrigger.on(Nt(this,Wt,Ft).bind(this)),this.handleDocKeyDown=this.handleDocKeyDown.bind(this),this.handleDocPointerDown=this.handleDocPointerDown.bind(this)}var n,r,o;return n=e,(r=[{key:"render",value:function(){var e=this.props,n=e.className,r=e.options,o=e.onChange,i=e.bindTo,a=[Nt(this,Vt,Gt).bind(this)];"function"==typeof o&&a.push(o);var l="".concat(t.panel,"__select");return n&&(l+=" ".concat(n)),this.element=S(wt||(wt=xt(["\n            <select className="," onChange=",">\n                ","\n            </select>\n        "])),l,a,r.map((function(e){var t=e.value,n=e.label,r=e.selected;return S(St||(St=xt(["\n                        <option value="," selected=",">","</option>\n                    "])),t,r||void 0,n)}))),i&&(i[0][i[1]]=this.element),Nt(this,Vt,Gt).call(this),this.element}},{key:"handleDocKeyDown",value:function(e){var n=this;window.setTimeout((function(){n.element.classList.toggle("".concat(t.panel,"__select_focus"),document.activeElement===n.element&&"Tab"===e.key)}),0)}},{key:"handleDocPointerDown",value:function(){this.element.classList.remove("".concat(t.panel,"__select_focus"))}}])&&Dt(n.prototype,r),o&&Dt(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}();function Gt(){var e=this.element,t=e.selectedOptions[0],n=S(Tt||(Tt=xt(['\n            <div className="select-helper">',"</div>\n        "])),t.innerText);document.body.append(n),setTimeout((function(){e.style.width="".concat(n.offsetWidth,"px"),n.remove()}),0)}function Ft(e){e?(document.addEventListener("keydown",this.handleDocKeyDown),document.addEventListener("pointerdown",this.handleDocPointerDown)):(document.removeEventListener("keydown",this.handleDocKeyDown),document.removeEventListener("pointerdown",this.handleDocPointerDown),this.element.classList.remove("".concat(t.panel,"__select_focus")))}function Rt(e){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt(e)}function Bt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ht(r.key),r)}}function Ht(e){var t=function(e,t){if("object"!=Rt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Rt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rt(t)?t:String(t)}function Xt(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function qt(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var Yt,$t,Jt,Zt,Qt,en,tn,nn,rn,on,an=new WeakSet,ln=new WeakSet,sn=new WeakSet,cn=new WeakSet,un=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Xt(this,cn),Xt(this,sn),Xt(this,ln),Xt(this,an),this.props=t,this.props.colorModeUpdateTrigger.on(qt(this,ln,dn).bind(this)),this.props.colorUpdateTrigger.on(qt(this,cn,fn).bind(this)),this.elements={}}var n,r,o;return n=e,(r=[{key:"render",value:function(){var e=this.props,n=e.isOpacityEnabled,r=e.isGradientOpacityOnly,o=e.colorMode,i=e.currentValues,a=e.colorChangeTrigger,l=e.colorUpdateTrigger,s=e.panelToggleTrigger,c=i.gradient,u=n&&(r&&c||!r),p="function"==typeof window.EyeDropper&&u,d="function"==typeof window.EyeDropper&&!p;this.elements.eyeDropperButton=S(It||(It=Bt(["\n            <button\n                className=","\n                onClick=","\n                tooltip=",'\n                type="button"\n            ></button>\n        '])),"".concat(t.panel,"__eyedropper"),qt(this,an,pn).bind(this),E("pick_color"));var h=["hex","rgb","hsl"].map((function(e){return{value:e,label:e.toUpperCase(),selected:o.mode===e}})),f=S(Ut||(Ut=Bt(["\n            <div className=",">\n                <div className="," bindTo=",">\n                    <div className=",">\n                        <","\n                            className=",'\n                            controls="hue"\n                            currentValues=',"\n                            colorChangeTrigger=","\n                            colorUpdateTrigger=","\n                        />\n                        <","\n                            className=",'\n                            controls="opacity"\n                            currentValues=',"\n                            colorChangeTrigger=","\n                            colorUpdateTrigger=","\n                            isGradientOpacityOnly=","\n                            isOpacityEnabled=","\n                        />\n                    </div>\n                    ","\n                </div>\n                <div className="," bindTo=",">\n                    <","\n                        className=","\n                        options=","\n                        onChange=","\n                        panelToggleTrigger=","\n                    />\n                    <div\n                        className=",'\n                        data-mode="hex"\n                        style=',"\n                        bindTo=","\n                    >\n                        <",'\n                            controls="hex"\n                            currentValues=',"\n                            colorChangeTrigger=","\n                            colorUpdateTrigger=","\n                        />\n                        <",'\n                            controls="opacity"\n                            className=',"\n                            currentValues=","\n                            colorChangeTrigger=","\n                            colorUpdateTrigger=","\n                            isGradientOpacityOnly=","\n                            isOpacityEnabled=","\n                        />\n                    </div>\n                    <div\n                        className=",'\n                        data-mode="rgb"\n                        style=',"\n                        bindTo=","\n                    >\n                        <",'\n                            controls="red"\n                            currentValues=',"\n                            colorChangeTrigger=","\n                            colorUpdateTrigger=","\n                        />\n                        <",'\n                            controls="green"\n                            currentValues=',"\n                            colorChangeTrigger=","\n                            colorUpdateTrigger=","\n                        />\n                        <",'\n                            controls="blue"\n                            currentValues=',"\n                            colorChangeTrigger=","\n                            colorUpdateTrigger=","\n                        />\n                        <",'\n                            controls="opacity"\n                            className=',"\n                            currentValues=","\n                            colorChangeTrigger=","\n                            colorUpdateTrigger=","\n                            isGradientOpacityOnly=","\n                            isOpacityEnabled=","\n                        />\n                    </div>\n                    <div\n                        className=",'\n                        data-mode="hsl"\n                        style=',"\n                        bindTo=","\n                    >\n                        <",'\n                            controls="hue"\n                            currentValues=',"\n                            colorChangeTrigger=","\n                            colorUpdateTrigger=","\n                        />\n                        <",'\n                            controls="saturation"\n                            currentValues=',"\n                            colorChangeTrigger=","\n                            colorUpdateTrigger=","\n                        />\n                        <",'\n                            controls="luma"\n                            currentValues=',"\n                            colorChangeTrigger=","\n                            colorUpdateTrigger=","\n                        />\n                        <",'\n                            controls="opacity"\n                            className=',"\n                            currentValues=","\n                            colorChangeTrigger=","\n                            colorUpdateTrigger=","\n                            isGradientOpacityOnly=","\n                            isOpacityEnabled=","\n                        />\n                    </div>\n                    ","\n                </div>\n            </div>\n        "])),"".concat(t.panel,"__inputs"),"".concat(t.panel,"__range-outer"),[this.elements,"rangeContainer"],"".concat(t.panel,"__range-container"),Ot,"".concat(t.panel,"__range_hue"),i,a,l,Ot,"".concat(t.panel,"__range_opacity"),i,a,l,r,n,p?this.elements.eyeDropperButton:"","".concat(t.panel,"__modes"),[this.elements,"modesContainer"],zt,"".concat(t.panel,"__modes-select"),h,qt(this,sn,hn).bind(this),s,"".concat(t.panel,"__modes-inputs"),"hex"===o.mode?void 0:"display:none;",[this.elements,"hexContainer"],ze,i,a,l,ze,"".concat(t.panel,"__input_opacity"),i,a,l,r,n,"".concat(t.panel,"__modes-inputs"),"rgb"===o.mode?void 0:"display:none;",[this.elements,"rgbContainer"],ze,i,a,l,ze,i,a,l,ze,i,a,l,ze,"".concat(t.panel,"__input_opacity"),i,a,l,r,n,"".concat(t.panel,"__modes-inputs"),"hsl"===o.mode?void 0:"display:none;",[this.elements,"hslContainer"],ze,i,a,l,ze,i,a,l,ze,i,a,l,ze,"".concat(t.panel,"__input_opacity"),i,a,l,r,n,d?this.elements.eyeDropperButton:"");return this.elements.container=f,f}}])&&Kt(n.prototype,r),o&&Kt(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}();function pn(){var e=this;if("function"==typeof window.EyeDropper){var t=new window.EyeDropper,n="/page/"===window.location.pathname?document.getElementById("closelayer"):null;n&&(n.style.backgroundColor="transparent"),t.open().then((function(t){n&&n.style.removeProperty("background-color");var r=j(t.sRGBHex),o=e.props,i=o.currentValues,a=o.colorChangeTrigger;z(i,r,null),a.trigger()})).catch((function(){n&&n.style.removeProperty("background-color")}))}}function dn(){var e=this,t=this.props.colorMode.mode;["hex","rgb","hsl"].forEach((function(n){var r=e.elements["".concat(n,"Container")];n===t?r.style.removeProperty("display"):r.style.display="none"}))}function hn(e){var t=e.target.value;this.props.colorMode.mode=t}function fn(){var e=this.props,t=e.isOpacityEnabled,n=e.isGradientOpacityOnly,r=this.props.currentValues.gradient,o=this.elements,i=o.eyeDropperButton,a=o.rangeContainer,l=o.modesContainer,s=t&&(n&&r||!n),c="function"==typeof window.EyeDropper&&s,u="function"==typeof window.EyeDropper&&!c;c||u||!i.parentElement?c&&i.parentElement!==a?a.append(i):u&&i.parentElement!==l&&l.append(i):i.remove()}function yn(e){return yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yn(e)}function gn(){gn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),l=new L(r||[]);return o(a,"_invoke",{value:O(e,n,l)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",h="suspendedYield",f="executing",y="completed",g={};function v(){}function m(){}function b(){}var w={};c(w,a,(function(){return this}));var S=Object.getPrototypeOf,T=S&&S(S(x([])));T&&T!==n&&r.call(T,a)&&(w=T);var _=b.prototype=v.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(o,i,a,l){var s=p(e[o],e,i);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==yn(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,l)}))}l(s.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,n,r){var o=d;return function(i,a){if(o===f)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var l=r.delegate;if(l){var s=k(l,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=f;var c=p(t,n,r);if("normal"===c.type){if(o=r.done?y:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=y,r.method="throw",r.arg=c.arg)}}}function k(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=p(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(yn(t)+" is not iterable")}return m.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},E(P.prototype),c(P.prototype,l,(function(){return this})),t.AsyncIterator=P,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new P(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(_),c(_,s,"Generator"),c(_,a,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=x,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return l.type="throw",l.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:x(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function vn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||_n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(n),!0).forEach((function(t){Sn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wn(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function Sn(e,t,n){return(t=kn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tn(e){return function(e){if(Array.isArray(e))return En(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _n(e,t){if(e){if("string"==typeof e)return En(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?En(e,t):void 0}}function En(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function On(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kn(r.key),r)}}function kn(e){var t=function(e,t){if("object"!=yn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yn(t)?t:String(t)}function Cn(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function jn(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var Ln,xn,Dn,An,Mn,Nn,In,Un=new WeakSet,Vn=new WeakSet,Wn=new WeakSet,zn=new WeakSet,Gn=new WeakSet,Fn=new WeakSet,Rn=new WeakSet,Bn=new WeakSet,Kn=new WeakSet,Hn=new WeakSet,Xn=new WeakSet,qn=new WeakSet,Yn=new WeakSet,$n=new WeakSet,Jn=new WeakSet,Zn=new WeakSet,Qn=new WeakSet,er=new WeakSet,tr=new WeakSet,nr=new WeakSet,rr=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Cn(this,nr),Cn(this,tr),Cn(this,er),Cn(this,Qn),Cn(this,Zn),Cn(this,Jn),Cn(this,$n),Cn(this,Yn),Cn(this,qn),Cn(this,Xn),Cn(this,Hn),Cn(this,Kn),Cn(this,Bn),Cn(this,Rn),Cn(this,Fn),Cn(this,Gn),Cn(this,zn),Cn(this,Wn),Cn(this,Vn),Cn(this,Un),this.props=t,this.elements={libraryContainers:{}},this.savedColors=[],this.props.panelToggleTrigger.on(jn(this,nr,Er).bind(this)),this.handleDocumentPointerMove=this.handleDocumentPointerMove.bind(this),this.handleDocumentPointerUp=this.handleDocumentPointerUp.bind(this)}var n,r,i;return n=e,(r=[{key:"render",value:function(){var e=this.props,n=e.isGradientsEnabled,r=e.noDocumentColors,i=e.panelToggleTrigger,a=window.localStorage.getItem("tColorpickerLibrary"),l=a&&o[a]||"document_colors";n||"tilda_gradients"!==l||(l="document_colors"),r&&"document_colors"===l&&(l="saved_colors");var s=["document_colors","saved_colors","tilda_colors","tilda_gradients"].map((function(e){return{label:E(e),value:e,selected:l===e}}));r&&s.shift(),n||s.pop();var c=S(Yt||(Yt=Pn(["\n            <div className=",">\n                <","\n                    className=","\n                    options=","\n                    onChange=","\n                    panelToggleTrigger=","\n                    bindTo=","\n                />\n                ","\n                <div\n                    className=",'\n                    data-lib="saved_colors"\n                    style=',"\n                    bindTo=","\n                >\n                    ","\n                </div>\n                <div\n                    className=",'\n                    data-lib="tilda_colors"\n                    style=',"\n                    bindTo=","\n                >\n                    ","\n                </div>\n                ","\n            </div>\n        "])),"".concat(t.panel,"__library"),zt,"".concat(t.panel,"__library-select"),s,jn(this,Zn,wr).bind(this),i,[this.elements,"librarySelect"],r?"":S($t||($t=Pn(["\n                          <div\n                              className=",'\n                              data-lib="document_colors"\n                              style=',"\n                              bindTo=","\n                          >\n                              ","\n                          </div>\n                      "])),"".concat(t.panel,"__swatches"),"document_colors"===l?void 0:"display:none;",[this.elements.libraryContainers,"document_colors"],E("loading")),"".concat(t.panel,"__swatches"),"saved_colors"===l?void 0:"display:none;",[this.elements.libraryContainers,"saved_colors"],E("loading"),"".concat(t.panel,"__tcolors"),"tilda_colors"===l?void 0:"display:none;",[this.elements.libraryContainers,"tilda_colors"],E("loading"),n?S(Jt||(Jt=Pn(["\n                          <div\n                              className=",'\n                              data-lib="tilda_gradients"\n                              style=',"\n                              bindTo=","\n                          >\n                              ","\n                          </div>\n                      "])),"".concat(t.panel,"__tcolors"),"tilda_gradients"===l?void 0:"display:none;",[this.elements.libraryContainers,"tilda_gradients"],E("loading")):"");return this.elements.container=c,jn(this,Fn,cr).call(this),jn(this,Bn,dr).call(this),r||jn(this,Rn,pr).call(this),c}},{key:"handleDocumentPointerMove",value:function(e){var t=e.clientX,n=this.elements.navContainer,r=this.navPointerStartPos-t;this.navPointerStartPos=t,n.scrollLeft+=r}},{key:"handleDocumentPointerUp",value:function(){document.removeEventListener("pointermove",this.handleDocumentPointerMove),document.removeEventListener("pointerup",this.handleDocumentPointerUp),document.documentElement.style.removeProperty("user-select")}}])&&On(n.prototype,r),i&&On(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}();function or(e){var t=this,n=this.elements.libraryContainers.document_colors;n.innerHTML="";var r=e.map((function(e){return jn(t,qn,gr).call(t,e)}));r.length&&n.append.apply(n,Tn(r))}function ir(){var e=this.props,t=e.isGradientsEnabled,n=e.noDocumentColors,r=this.elements.librarySelect,i=this.elements.libraryContainers.document_colors,a=r.querySelector('option[value="document_colors"]'),l=i&&!i.childElementCount,s=window.localStorage.getItem("tColorpickerLibrary")||r.value,c=s&&o[s]||"document_colors";t||"tilda_gradients"!==c||(c="document_colors"),(n||l)&&"document_colors"===c&&(c="saved_colors"),a&&(a.disabled=l),r.value!==c&&(r.value=c,r.dispatchEvent(new Event("change")))}function ar(){var e=this,n=this.elements.libraryContainers.saved_colors;n.innerHTML="";var r=this.savedColors.map((function(t){return jn(e,qn,gr).call(e,t,!0)})),o=S(Zt||(Zt=Pn(['\n            <button\n                type="button"\n                className=',"\n                onClick=","\n                style=","\n                bindTo=","\n                tooltip=","\n            ></button>\n        "])),"".concat(t.panel,"__add-swatch"),jn(this,Yn,vr).bind(this),"".concat(this.savedColors.length<l?void 0:"display:none;"),[this.elements,"addButton"],E("save_color"));r.push(o),n.append.apply(n,Tn(r)),jn(this,Xn,yr).call(this)}function lr(e){var n=this,r=this.elements.libraryContainers.tilda_colors;r.innerHTML="",this.elements.colorLists={},this.elements.navItems={};var o=e.colors[0],i=S(Qt||(Qt=Pn(["\n            <div className=",">\n                <div className=",">\n                    <div\n                        className=","\n                        bindTo=","\n                        onScroll=","\n                        onPointerDown=","\n                    >\n                        ","\n                    </div>\n                </div>\n                ","\n            </div>\n        "])),"".concat(t.panel,"__tcolors-wrapper"),"".concat(t.panel,"__tcolors-nav-wrapper"),"".concat(t.panel,"__tcolors-nav"),[this.elements,"navContainer"],jn(this,er,Tr).bind(this),jn(this,tr,_r).bind(this),s.map((function(e,r){var i={EN:Sn({},e,o[e].name_en),RU:Sn({},e,o[e].name)};return S(en||(en=Pn(['\n                                <button\n                                    type="button"\n                                    className=',"\n                                    data-group=","\n                                    onClick=","\n                                    bindTo=","\n                                >\n                                    ","\n                                </button>\n                            "])),"".concat(t.panel,"__tcolors-nav-item").concat(r?"":" ".concat(t.panel,"__tcolors-nav-item_active")),e,jn(n,Qn,Sr).bind(n),[n.elements.navItems,e],E(e,i))})),s.map((function(e,r){var i=o[e].hex;return S(tn||(tn=Pn(["\n                        <div\n                            className=","\n                            data-group=","\n                            style=","\n                            bindTo=","\n                        >\n                            ","\n                        </div>\n                    "])),"".concat(t.panel,"__tcolors-list"),e,r?"display:none;":void 0,[n.elements.colorLists,e],i.map((function(e){return jn(n,qn,gr).call(n,e)})))})));r.append(i)}function sr(e){var n=this,r=this.elements.libraryContainers.tilda_gradients;r.innerHTML="";var o=e.gradients,i=S(nn||(nn=Pn(["\n            <div className=",">\n                <div className=",">\n                    ","\n                </div>\n            </div>\n        "])),"".concat(t.panel,"__tcolors-wrapper"),"".concat(t.panel,"__tcolors-list ").concat(t.panel,"__tcolors-list_gradients"),o.map((function(e){var t=W({type:"linear",stops:[{color:j(e.hex1),position:0,opacity:1},{color:j(e.hex2),position:1,opacity:1}],angle:0});return jn(n,qn,gr).call(n,t)})));r.append(i)}function cr(){return ur.apply(this,arguments)}function ur(){var e;return e=gn().mark((function e(){var t,n,r,o,l,s,c;return gn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.isGradientsEnabled,!((n=JSON.parse(window.localStorage.getItem("tildacolors")))&&Date.now()-n.timestamp<a)){e.next=6;break}return jn(this,zn,lr).call(this,n),t&&jn(this,Gn,sr).call(this,n),e.abrupt("return");case 6:return e.prev=6,e.next=9,fetch(i);case 9:return r=e.sent,e.next=12,r.json();case 12:(o=e.sent).timestamp=Date.now(),window.localStorage.setItem("tildacolors",JSON.stringify(o)),jn(this,zn,lr).call(this,o),t&&jn(this,Gn,sr).call(this,o),e.next=25;break;case 19:e.prev=19,e.t0=e.catch(6),console.error(e.t0),l=this.elements.libraryContainers,s=l.tilda_colors,c=l.tilda_gradients,s.innerText=E("load_error"),c&&(c.innerText=E("load_error"));case 25:case"end":return e.stop()}}),e,this,[[6,19]])})),ur=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){wn(i,r,o,a,l,"next",e)}function l(e){wn(i,r,o,a,l,"throw",e)}a(void 0)}))},ur.apply(this,arguments)}function pr(){var e=this.props,t=function(e,t,n){var r=[];return document.querySelectorAll(".t396 .tn-elem, .tn-artboard .tn-elem").forEach((function(n){var o=n.querySelector(".tn-atom");if(o){var i=n.getAttribute("data-elem-type");if("button"===i||"shape"===i||"text"===i||"image"===i||"video"===i||"tooltip"===i){var a=G(o,e,t);r.push.apply(r,v(a))}}})),document.querySelectorAll(['.record div[id^="rec"]','.record div[id^="rec"] [field="title"]','.record div[id^="rec"] [field="title"] *','.record div[id^="rec"] [field="descr"]','.record div[id^="rec"] [field="descr"] *','.record div[id^="rec"] [field="text"]','.record div[id^="rec"] [field="text"] *','.record div[id^="rec"] [field="subtitle"]','.record div[id^="rec"] [field="subtitle"] *','.record div[id^="rec"] .t-name','.record div[id^="rec"] .t-name *','.record div[id^="rec"] .t-menu__link-item','.record div[id^="rec"] .t-title','.record div[id^="rec"] .t-title *','.record div[id^="rec"] .t-descr','.record div[id^="rec"] .t-descr *','.record div[id^="rec"] .t-btn','.record div[id^="rec"] .t-btn *','.record div[id^="rec"] a','.record div[id^="rec"] a *'].join(",")).forEach((function(o){var i=G(o,e,t,n);r.push.apply(r,v(i))})),v(new Set(r))}(e.isOpacityEnabled,e.isGradientOpacityOnly,e.isGradientsEnabled);jn(this,Un,or).call(this,t)}function dr(){var e=this.props.swatchesKey;if(!e)return this.savedColors=[],jn(this,Wn,ar).call(this);var t=JSON.parse(localStorage.getItem("tMinicolors"))||{};this.savedColors=Array.isArray(t[e])?t[e]:[],jn(this,Wn,ar).call(this)}function hr(e){var t=this.props,n=t.isOpacityEnabled,r=t.isGradientOpacityOnly,o=t.isGradientsEnabled,i=e.includes("gradient");if(i&&!o)return!1;var a=i?k(e):O(e);if(i){var l=!!a.stops.find((function(e){var t=e.opacity;return K(t)&&t<1}));return!l||n}var s=a[3];return!(K(s)&&s<1)||n&&!r}function fr(e){var t=this.props,n=t.currentValues,r=t.colorChangeTrigger,o=e.target,i=e.shiftKey,a=o.dataset.color,l=a.includes("gradient"),s=l?k(a):O(a);if(s){if(l)n.gradient=s,n.color=s.stops[0].color,n.opacity=s.stops[0].opacity;else{var c=4===s.length?s.pop():null;z(n,s,c,!i)}r.trigger()}}function yr(){var n=this;_(e).then((function(){if("function"!=typeof window.TSortableLite)throw new TypeError("TSortableLite is not defined");var e=n.elements.libraryContainers.saved_colors,o=e.closest(".".concat(t.panel)),i=null,a=n.elements.addButton;n.sortable&&n.sortable.destroy(),n.sortable=new window.TSortableLite(e,bn(bn({},r),{},{onStart:function(){i=o.getBoundingClientRect()},onMove:function(e){var r=e.draggingElement,o=e.originalEvent.clientX,a=e.originalEvent.clientY,l=i.left,s=l+i.width,c=i.top,u=c+i.height;o>=l&&o<=s&&a>=c&&a<=u?(document.documentElement.style.removeProperty("cursor"),n.sortable._dragImage.style.removeProperty("cursor"),r.classList.remove("".concat(t.panel,"__swatch_del"))):(document.documentElement.style.cursor="no-drop",r.classList.add("".concat(t.panel,"__swatch_del")),n.sortable._dragImage.style.cursor="no-drop")},onDrop:function(e){var r=e.draggingElement;r.classList.contains("".concat(t.panel,"__swatch_del"))&&(r.remove(),a.style.removeProperty("display")),jn(n,Jn,br).call(n)},onEnd:function(e){var r=e.draggingElement;document.documentElement.style.removeProperty("cursor"),r.classList.contains("".concat(t.panel,"__swatch_del"))&&(r.remove(),a.style.removeProperty("display"),jn(n,Jn,br).call(n))}})),n.sortable.init()})).catch((function(e){console.error(e)}))}function gr(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return S(rn||(rn=Pn(['\n            <button\n                type="button"\n                className=',"\n                style=","\n                data-color=","\n                onClick=","\n                onKeyDown=","\n                tooltip=","\n            ></button>\n        "])),"".concat(t.panel,"__swatch"),"background:".concat(e,";").concat(jn(this,Kn,hr).call(this,e)||!n?"":"display:none;"),e,jn(this,Hn,fr).bind(this),n?jn(this,$n,mr).bind(this):void 0,R(e))}function vr(){var e=this.props.currentValues,n=e.color,r=e.opacity,o=e.gradient,i="";if(o?i=W(o)||"":n&&(i="rgba(".concat(x([].concat(Tn(n),[r])).join(","),")")),i){this.savedColors.push(i);var a=S(on||(on=Pn(['\n                <button\n                    type="button"\n                    className=',"\n                    style=","\n                    data-color=","\n                    onClick=","\n                    tooltip=","\n                ></button>\n            "])),"".concat(t.panel,"__swatch"),"background:".concat(i,";").concat(jn(this,Kn,hr).call(this,i)?"":"display:none;"),i,jn(this,Hn,fr).bind(this),R(i)),s=this.elements.addButton;s.before(a),jn(this,Jn,br).call(this),this.savedColors.length>=l&&(s.style.display="none")}}function mr(e){var t=e.key,n=e.target,r=this.elements.addButton;"Backspace"===t&&(n.remove(),r.style.removeProperty("display"),jn(this,Jn,br).call(this))}function br(){var e=this.props.swatchesKey,n=this.elements.libraryContainers.saved_colors;this.savedColors=Tn(n.querySelectorAll(".".concat(t.panel,"__swatch"))).map((function(e){return e.dataset.color}));var r=JSON.parse(localStorage.getItem("tMinicolors"))||{};r[e]=this.savedColors,localStorage.setItem("tMinicolors",JSON.stringify(r))}function wr(e){var t=e.target.value,n=Object.entries(o).find((function(e){return vn(e,2)[1]===t}))[0];window.localStorage.setItem("tColorpickerLibrary",n),Object.entries(this.elements.libraryContainers).forEach((function(e){var n=vn(e,2),r=n[0],o=n[1];r===t?o.style.removeProperty("display"):o.style.display="none"}))}function Sr(e){var n=e.target,r="".concat(t.panel,"__tcolors-nav-item_active");if(!n.classList.contains(r)){var o=n.dataset.group,i=this.elements,a=i.colorLists,l=i.navItems;s.forEach((function(e){e===o?(a[e].style.removeProperty("display"),l[e].classList.add(r)):(a[e].style.display="none",l[e].classList.remove(r))})),F({endX:n.offsetLeft,endY:0},n.parentElement)}}function Tr(){var e=this.elements.navContainer,n=e.parentElement,r=e.scrollWidth,o=e.clientWidth,i=e.scrollLeft+o>=r-1,a="".concat(t.panel,"__tcolors-nav-wrapper_scrolled");i?n.classList.add(a):n.classList.remove(a)}function _r(e){this.navPointerStartPos=e.clientX,document.addEventListener("pointermove",this.handleDocumentPointerMove),document.addEventListener("pointerup",this.handleDocumentPointerUp),document.documentElement.style.userSelect="none"}function Er(e){if(e){var t=this.props.noDocumentColors;jn(this,Fn,cr).call(this),jn(this,Bn,dr).call(this),t||jn(this,Rn,pr).call(this),jn(this,Vn,ir).call(this)}else this.sortable&&this.sortable.destroy(),this.handleDocumentPointerUp()}function Pr(e){return Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pr(e)}function Or(e){return function(e){if(Array.isArray(e))return xr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Lr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cr(e,t,n){return(t=Mr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||Lr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lr(e,t){if(e){if("string"==typeof e)return xr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xr(e,t):void 0}}function xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ar(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mr(r.key),r)}}function Mr(e){var t=function(e,t){if("object"!=Pr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Pr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pr(t)?t:String(t)}function Nr(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function Ir(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var Ur=new WeakSet,Vr=new WeakSet,Wr=new WeakSet,zr=new WeakSet,Gr=new WeakSet,Fr=new WeakSet,Rr=new WeakSet,Br=new WeakSet,Kr=new WeakSet,Hr=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Nr(this,Kr),Nr(this,Br),Nr(this,Rr),Nr(this,Fr),Nr(this,Gr),Nr(this,zr),Nr(this,Wr),Nr(this,Vr),Nr(this,Ur),this.config=t.config,this.colorChangeTrigger=t.colorChangeTrigger,this.colorUpdateTrigger=t.colorUpdateTrigger,this.panelToggleTrigger=t.panelToggleTrigger,this.currentValues=t.currentValues,this.input=t.input,this.container=t.container,this.isOpen=!1,this.isClickStartedOnPanel=!1,this.element=null,this.focusTrap=null,this.resizeObserver=null,this.currentPosition=null,this.fromClass=null,this.currentCoords={x:0,y:0};var n,r,o,i=T();this.colorModeUpdateTrigger=i,this.colorMode={_mode:"hex",set mode(e){this._mode=e,i.trigger()},get mode(){return this._mode}},this.colorUpdateTrigger.on(Ir(this,Fr,Zr).bind(this)),this.handleDocPointerDown=this.handleDocPointerDown.bind(this),this.handleDocClick=this.handleDocClick.bind(this),this.handleDocKeyDown=this.handleDocKeyDown.bind(this),this.throttledUpdatePosition=(n=Ir(this,zr,$r).bind(this),r=50,o=null,function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];window.clearTimeout(o),o=window.setTimeout((function(){n.apply(null,t)}),r)}),this.handleWindowResize=this.throttledUpdatePosition,this.handleDocPointerMoveDrag=this.handleDocPointerMoveDrag.bind(this),this.handleDocPointerUpDrag=this.handleDocPointerUpDrag.bind(this),this.handlePanelTransition=this.handlePanelTransition.bind(this)}var n,r,o;return n=e,(r=[{key:"open",value:function(){var e=this;if(!this.isOpen){var n,r,o,i,a,l=window.matchMedia("(max-width: 640px)").matches;this.element||(this.element=Ir(this,Ur,Xr).call(this)),this.closeLayer||(this.closeLayer=Ir(this,Wr,Yr).call(this)),this.focusTrap||(this.focusTrap=(n=this.element,r=n.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),o=r[0],i=r[r.length-1],a=function(e){var t=e.key,r=e.shiftKey;if("Tab"===t){var a=document.activeElement;a&&n.contains(a)||(e.preventDefault(),r?i.focus():o.focus()),a===o&&r&&(e.preventDefault(),i.focus()),a!==i||r||(e.preventDefault(),o.focus())}},document.addEventListener("keydown",a),{release:function(){document.removeEventListener("keydown",a)}})),this.config.appendTo.append(this.closeLayer,this.element),this.element.removeEventListener("transitionend",this.handlePanelTransition),this.isOpen=!0,this.panelToggleTrigger.trigger(!0),this.closeLayer.classList.remove("".concat(t.container,"__close-layer_hidden")),l?this.element.classList.remove("".concat(t.panel,"_hidden")):(Ir(this,zr,$r).call(this,!0),this.resizeObserver=new ResizeObserver(Ir(this,zr,$r).bind(this)),this.resizeObserver.observe(this.element),this.fromClass?(this.element.style.transition="none",this.element.classList.add(this.fromClass),window.setTimeout((function(){e.element.style.removeProperty("transition"),e.element.classList.remove("".concat(t.panel,"_hidden")),e.element.classList.remove(e.fromClass)}),0)):this.element.classList.remove("".concat(t.panel,"_hidden"))),document.addEventListener("pointerdown",this.handleDocPointerDown),document.addEventListener("click",this.handleDocClick),document.addEventListener("keydown",this.handleDocKeyDown),window.addEventListener("resize",this.handleWindowResize)}}},{key:"close",value:function(){var e=this;this.isOpen&&this.element&&(this.isOpen=!1,this.isClickStartedOnPanel=!1,this.panelToggleTrigger.trigger(!1),this.focusTrap&&this.focusTrap.release(),this.focusTrap=null,this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),document.removeEventListener("pointerdown",this.handleDocPointerDown),document.removeEventListener("click",this.handleDocClick),document.removeEventListener("keydown",this.handleDocKeyDown),window.removeEventListener("resize",this.handleWindowResize),this.handleDocPointerUpDrag(),this.currentPosition=null,this.fromClass&&this.element.classList.remove(this.fromClass),this.element.classList.add("".concat(t.panel,"_hidden")),this.closeLayer.classList.add("".concat(t.container,"__close-layer_hidden")),this.element.addEventListener("transitionend",this.handlePanelTransition),window.setTimeout((function(){0===e.element.offsetWidth&&e.handlePanelTransition()}),0))}},{key:"handlePanelTransition",value:function(){this.element.remove(),this.fromClass=null,this.closeLayer.remove(),this.element.removeEventListener("transitionend",this.handlePanelTransition)}},{key:"handleDocPointerMoveDrag",value:function(e){var t=e.clientX,n=e.clientY,r=this.dragStartX,o=this.dragStartY,i=this.dragStartCoords,a=t-r,l=n-o,s=i.x,c=i.y;s+=a,c+=l,this.currentCoords={x:s,y:c},Ir(this,zr,$r).call(this,!0,!0)}},{key:"handleDocPointerUpDrag",value:function(){document.removeEventListener("pointermove",this.handleDocPointerMoveDrag),document.removeEventListener("pointerup",this.handleDocPointerUpDrag),document.documentElement.style.removeProperty("user-select"),delete this.dragStartCoords,delete this.dragStartX,delete this.dragStartY}},{key:"handleDocPointerDown",value:function(e){this.isClickStartedOnPanel=this.element&&this.element.contains(e.target)}},{key:"handleDocClick",value:function(e){if(this.isClickStartedOnPanel)this.isClickStartedOnPanel=!1;else{var t=e.target,n=this.element,r=this.input,o=this.container,i=document.activeElement,a=this.config.isNoInputMode;n.contains(t)||r.contains(t)||o&&o.contains(t)||!a&&i===r||this.close()}}},{key:"handleDocKeyDown",value:function(e){"Escape"===e.key&&this.close()}},{key:"theme",set:function(e){this.element&&this.element.classList.toggle(t.panelThemeDark,"dark"===e),this.config.theme=e}}])&&Ar(n.prototype,r),o&&Ar(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}();function Xr(){var e=this.config,n=e.theme,r=e.panelZIndex,o=e.noDocumentColors,i=e.gradientHint,a=e.swatchesKey,l=e.isGradientsEnabled,s=e.isOpacityEnabled,c=e.isGradientOpacityOnly,u=e.isTextContrastCheckEnabled,p=e.isNoInputMode,d=this.currentValues,h=d.color,f=d.gradient,y=[{label:E("solid"),value:"solid",selected:!f},{label:E("linear"),value:"linear",selected:f&&"linear"===f.type},{label:E("radial"),value:"radial",selected:f&&"radial"===f.type}],g=!!i.EN.gradient_hint&&f,v=h?"#".concat(A(h)):"",m=S(Ln||(Ln=Dr(["\n            <div\n                className=","\n                style=","\n            >\n                ","\n                ","\n                <","\n                    currentValues=","\n                    colorMode=","\n                    colorModeUpdateTrigger=","\n                    colorChangeTrigger=","\n                    colorUpdateTrigger=","\n                    panelToggleTrigger=","\n                />\n                <","\n                    currentValues=","\n                    colorMode=","\n                    colorModeUpdateTrigger=","\n                    isOpacityEnabled=","\n                    isGradientOpacityOnly=","\n                    colorChangeTrigger=","\n                    colorUpdateTrigger=","\n                    panelToggleTrigger=","\n                />\n                ","\n                <","\n                    currentValues=","\n                    noDocumentColors=","\n                    isGradientsEnabled=","\n                    isOpacityEnabled=","\n                    isGradientOpacityOnly=","\n                    swatchesKey=","\n                    colorChangeTrigger=","\n                    panelToggleTrigger=","\n                />\n                ","\n            </div>\n        "])),"".concat(t.panel," ").concat(t.panel,"_hidden"),"z-index:".concat(r,";--current-color:").concat(v,";"),l?S(xn||(xn=Dr(["\n                          <div\n                              className=","\n                              onPointerdown=","\n                          >\n                              <","\n                                  className=","\n                                  options=","\n                                  onChange=","\n                                  bindTo=","\n                                  colorUpdateTrigger=","\n                                  panelToggleTrigger=","\n                              />\n                              ",'\n                              <button\n                                  type="button"\n                                  className=',"\n                                  onClick=","\n                                  tooltip=","\n                              ></button>\n                          </div>\n                      "])),"".concat(t.panel,"__head"),Ir(this,Gr,Jr).bind(this),zt,"".concat(t.panel,"__gradient-select"),y,Ir(this,Rr,Qr).bind(this),[this,"gradientSelect"],this.colorUpdateTrigger,this.panelToggleTrigger,g?Ir(this,Vr,qr).call(this):"","".concat(t.panel,"__close-btn"),this.close.bind(this),E("close")):"",l?S(Dn||(Dn=Dr(["\n                          <","\n                              currentValues=","\n                              colorChangeTrigger=","\n                              colorUpdateTrigger=","\n                              panelToggleTrigger=","\n                          />\n                      "])),lt,this.currentValues,this.colorChangeTrigger,this.colorUpdateTrigger,this.panelToggleTrigger):"",le,this.currentValues,this.colorMode,this.colorModeUpdateTrigger,this.colorChangeTrigger,this.colorUpdateTrigger,this.panelToggleTrigger,un,this.currentValues,this.colorMode,this.colorModeUpdateTrigger,s,c,this.colorChangeTrigger,this.colorUpdateTrigger,this.panelToggleTrigger,u?S(An||(An=Dr(["\n                          <","\n                              currentValues=","\n                              input=","\n                              panelToggleTrigger=","\n                              colorUpdateTrigger=","\n                          />\n                      "])),Oe,this.currentValues,this.input,this.panelToggleTrigger,this.colorUpdateTrigger):"",rr,this.currentValues,o,l,s,c,a,this.colorChangeTrigger,this.panelToggleTrigger,p?S(Mn||(Mn=Dr(["\n                          <div className=",">\n                              <button\n                                  className=","\n                                  onClick=",'\n                                  type="button"\n                              >\n                                  ',"\n                              </button>\n                              <button\n                                  className=","\n                                  onClick=",'\n                                  type="button"\n                              >\n                                  ',"\n                              </button>\n                          </div>\n                      "])),"".concat(t.panel,"__btns"),"".concat(t.panel,"__action-btn ").concat(t.panel,"__action-btn_clear"),Ir(this,Br,eo).bind(this),E("clear"),"".concat(t.panel,"__action-btn ").concat(t.panel,"__action-btn_apply"),Ir(this,Kr,to).bind(this),E("apply")):"");return"dark"===n&&m.classList.add(t.panelThemeDark),X(m),m}function qr(){var e=this.config.gradientHint;return S(Nn||(Nn=Dr(["\n            <","\n                className=","\n                hintText=",'\n                label="!"\n                bindTo=',"\n            />\n        "])),ve,"".concat(t.panel,"__hint_gradient"),E("gradient_hint",e),[this,"gradientHintElement"])}function Yr(){return S(In||(In=Dr(["\n            <div className=","></div>\n        "])),"".concat(t.container,"__close-layer ").concat(t.container,"__close-layer_hidden"))}function $r(e,n){var r=window.matchMedia("(max-width: 640px)").matches;if(this.element&&!r){var o=this.config.positionPriority,i=jr(this.config.viewboxPadding,4),a=i[0],l=i[1],s=i[2],c=i[3],u=jr(this.config.panelGap,4),p=u[0],d=u[1],h=u[2],f=u[3],y=this.element.getBoundingClientRect(),g=this.input.getBoundingClientRect(),v=document.documentElement.clientWidth,m=document.documentElement.clientHeight,b=y.width,w=y.height,S={bottom:m-g.top-g.height-h-s>=w,right:v-g.left-g.width-d-l>=b,left:g.left-f-c>=b,top:g.top-p-a>=w},T=function(e){var t=0,n=0;return"bottom"===e?(t=g.left,n=g.top+g.height+h):"right"===e?(t=g.left+g.width+d,n=g.top-w/2):"left"===e?(t=g.left-f-b,n=g.top-w/2):"top"===e&&(t=g.left,n=g.top-p-w),{x:t,y:n}},_=this.currentCoords.x,E=this.currentCoords.y;if(!(this.currentPosition&&S[this.currentPosition]||n)){var P,O=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Lr(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(o);try{for(O.s();!(P=O.n()).done;){var k=P.value;if(S[k]){this.fromClass="".concat(t.panel,"_from-").concat(k);var C=T(k);this.currentPosition=k,this.currentCoords=C,_=C.x,E=C.y;break}}}catch(e){O.e(e)}finally{O.f()}}this.element.classList.toggle("".concat(t.panel,"_instant-transition"),!0===e),_=B(c,_,v-b-l),E=B(a,E,m-w-s),this.currentCoords={x:_,y:E},this.element.style.translate="".concat(_,"px ").concat(E,"px")}}function Jr(e){var n=window.matchMedia("(max-width: 640px)").matches,r=e.target.classList.contains("".concat(t.panel,"__head"));if(!n&&r){var o=e.clientX,i=e.clientY;this.dragStartX=o,this.dragStartY=i,this.dragStartCoords=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kr(Object(n),!0).forEach((function(t){Cr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.currentCoords),document.addEventListener("pointermove",this.handleDocPointerMoveDrag),document.addEventListener("pointerup",this.handleDocPointerUpDrag),document.documentElement.style.userSelect="none"}}function Zr(){var e=this.gradientSelect,t=this.gradientHintElement,n=this.currentValues,r=n.gradient,o=n.color,i=this.config.gradientHint;e&&(e.value=r?r.type:"solid");var a=!!i.EN.gradient_hint&&r;if(t?a?t.style.removeProperty("display"):t.style.display="none":a&&(this.gradientHintElement=Ir(this,Vr,qr).call(this),e&&e.after(this.gradientHintElement)),this.element){var l=o?"#".concat(A(o)):"";this.element.style.setProperty("--current-color",l)}}function Qr(){var e=this.gradientSelect,t=this.currentValues,n=this.colorChangeTrigger,r=t.color,o=t.opacity,i=t.gradient,a=e.value,l=this.config.isOpacityEnabled;if(["linear","radial"].includes(a)&&i&&(i.type=a),"solid"===a&&i){var s=i.stops.find((function(e){return e.active}))||i.stops[0];t.color=s&&s.color||[0,0,0],t.opacity=s&&K(s.opacity)?s.opacity:null,t.gradient=null}if(["linear","radial"].includes(a)&&!i){var c=r||[0,0,0];t.gradient={type:a,angle:0,stops:[{color:Or(c),opacity:K(o)?o:1,position:0,active:!0},{color:Or(c),opacity:l?0:1,position:1}]}}n.trigger()}function eo(){var e=this.colorChangeTrigger,t=this.currentValues;t.color=null,t.opacity=null,t.gradient=null,e.trigger({isPanelButton:!0}),this.close()}function to(){this.colorChangeTrigger.trigger({isPanelButton:!0}),this.close()}function no(e){return no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},no(e)}function ro(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,io(r.key),r)}}function oo(e,t,n){return t&&ro(e.prototype,t),n&&ro(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function io(e){var t=function(e,t){if("object"!=no(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=no(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==no(t)?t:String(t)}function ao(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ho(e,t)}function so(e){var t=po();return function(){var n,r=fo(e);if(t){var o=fo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===no(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function co(e){var t="function"==typeof Map?new Map:void 0;return co=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return uo(e,arguments,fo(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ho(n,e)},co(e)}function uo(e,t,n){return uo=po()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&ho(o,n.prototype),o},uo.apply(null,arguments)}function po(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ho(e,t){return ho=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ho(e,t)}function fo(e){return fo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fo(e)}var yo,go,vo=function(e){lo(n,e);var t=so(n);function n(e){var r;return ao(this,n),(r=t.call(this,"paneltoggle")).isOpen=e,r}return oo(n)}(co(CustomEvent)),mo=function(e){lo(n,e);var t=so(n);function n(e,r,o){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"colorchange";return ao(this,n),i=t.call(this,a),o&&((o=JSON.parse(JSON.stringify(o))).css=W(o),"radial"===o.type&&"angle"in o&&delete o.angle,o.stops.forEach((function(e){null===e.opacity&&(e.opacity=1),"active"in e&&delete e.active}))),i.currentColor={hex:e?"#"+A(e):e,rgb:e?L(e):e,hsl:e,opacity:null===r&&e?1:r,gradient:o},i}return oo(n)}(co(CustomEvent));function bo(e){return bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bo(e)}function wo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return So(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return So(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function So(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function To(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Eo(r.key),r)}}function Eo(e){var t=function(e,t){if("object"!=bo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bo(t)?t:String(t)}function Po(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function Oo(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var ko=new WeakSet,Co=new WeakSet,jo=new WeakSet,Lo=new WeakSet,xo=new WeakSet,Do=new WeakSet,Ao=new WeakSet,Mo=new WeakSet,No=new WeakSet,Io=new WeakSet,Uo=new WeakSet,Vo=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Po(this,Uo),Po(this,Io),Po(this,No),Po(this,Mo),Po(this,Ao),Po(this,Do),Po(this,xo),Po(this,Lo),Po(this,jo),Po(this,Co),Po(this,ko),n="[object Object]"===Object.prototype.toString.call(n)?n:{};var r,o,i,a="[object Object]"===Object.prototype.toString.call(n.gradientHint)?n.gradientHint:{};if(a.EN="string"==typeof a.EN&&a.EN||"",a.RU="string"==typeof a.RU&&a.RU||a.EN||"",!(t instanceof Element||n.inputReplacement instanceof Element))throw new TypeError("TColorPicker input is not an Element");this.config={letterCase:["lowercase","uppercase"].includes(n.letterCase)?n.letterCase:"uppercase",format:["hex","rgb","hsl"].includes(n.format)?n.format:"hex",isOpacityEnabled:!!n.isOpacityEnabled,isGradientsEnabled:!!n.isGradientsEnabled,swatchesKey:n.swatchesKey||window.projectid||null,theme:["light","dark"].includes(n.theme)?n.theme:"light",panelZIndex:K(n.panelZIndex)?n.panelZIndex:99999,emptyColorKeywords:Array.isArray(n.emptyColorKeywords)?n.emptyColorKeywords:[],noDocumentColors:!!n.noDocumentColors,swatchSize:K(n.swatchSize)&&n.swatchSize>=0?n.swatchSize:35,swatchGap:K(n.swatchGap)&&n.swatchGap>=0?n.swatchGap:13,disablePanelToggleOnInputReplacementClick:!!n.disablePanelToggleOnInputReplacementClick,isNoInputMode:n.inputReplacement instanceof Element,colorChangeDelay:K(n.colorChangeDelay)&&n.colorChangeDelay>=0?n.colorChangeDelay:50,isGradientOpacityOnly:!!n.isGradientOpacityOnly,isTextContrastCheckEnabled:!!n.isTextContrastCheckEnabled,gradientHint:{EN:{gradient_hint:a.EN},RU:{gradient_hint:a.RU}},clearBtnSize:K(n.clearBtnSize)&&n.clearBtnSize>=0?n.clearBtnSize:16,viewboxPadding:H(n.viewboxPadding,5),panelGap:H(n.panelGap,-3),positionPriority:(r=n.positionPriority,o=["right","left","bottom"],i=["left","right","top","bottom"],Array.isArray(r)?(r=r.filter((function(e){return i.includes(e)})),(r=v(new Set(r))).length?(r.splice(4),r):o):i.includes(r)?[r]:o),appendTo:n.appendTo instanceof Element?n.appendTo:document.body},this.elements={input:n.inputReplacement||t},this.isInited=!1,this.handleInput=this.handleInput.bind(this),this.openPanel=this.openPanel.bind(this),this.handleInputBlur=this.handleInputBlur.bind(this),this.handleInputReplacementClick=this.handleInputReplacementClick.bind(this),this.handleInputKeydown=this.handleInputKeydown.bind(this),this.currentValues={color:null,opacity:null,gradient:null},this.emptyColorString=null,this.colorChangeTrigger=T(),this.colorUpdateTrigger=T(),this.panelToggleTrigger=T(),this.colorChangeTrigger.on(Oo(this,Io,qo).bind(this)),this.colorUpdateTrigger.on(Oo(this,Uo,Yo).bind(this)),this.panelToggleTrigger.on(Oo(this,Mo,Ho).bind(this)),this.dispatchColorChangeEvent=P(this.dispatchColorChangeEvent.bind(this),this.config.colorChangeDelay)}var n,r,o;return n=e,o=[{key:"parseColor",value:function(e,t){return O(e,t)}},{key:"parseGradient",value:function(e,t){return k(e,t)}},{key:"hexToRGB",value:function(e){return C(e)}},{key:"hexToHSL",value:function(e){return j(e)}},{key:"hslToRGB",value:function(e){return L(e)}},{key:"hslToRGBA",value:function(e){return x(e)}},{key:"rgbToHEX",value:function(e){return D(e)}},{key:"hslToHEX",value:function(e){return A(e)}},{key:"rgbToHSL",value:function(e){return M(e)}},{key:"hsvToHSL",value:function(e){return N(e)}},{key:"hslToHSV",value:function(e){return I(e)}},{key:"calcRelativeLuminance",value:function(e){return U(e)}}],(r=[{key:"init",value:function(){if(!this.isInited){this.isInited=!0;var e=this.config,n=e.isNoInputMode,r=e.theme,o=e.clearBtnSize,i=e.swatchSize,a=e.swatchGap,l=this.elements.input;if(n)l.classList.add(t.container),this.elements.container=l;else{l.classList.add(t.input),l.style.paddingLeft="".concat(i+a,"px"),l.setAttribute("inputmode","none"),l.setAttribute("autocomplete","off");var s=S(yo||(yo=To(["\n                <div\n                    className=","\n                    onMouseenter=","\n                    onMouseleave=","\n                    style=","\n                >\n                    <div\n                        className=","\n                        style=","\n                        onClick=","\n                        bindTo=","\n                    ></div>\n                    ","\n                </div>\n            "])),t.container,Oo(this,Do,Bo).bind(this),Oo(this,Ao,Ko).bind(this),"--padding-right:".concat(o+4,"px;"),t.swatch,"width:".concat(i,"px;height:").concat(i,"px;"),Oo(this,xo,Ro).bind(this),[this.elements,"swatch"],l.disabled?"":S(go||(go=To(["\n                              <button\n                                  className=",'\n                                  type="button"\n                                  style=',"\n                                  onClick=","\n                                  tooltip=","\n                                  bindTo=","\n                              ></button>\n                          "])),t.clearBtn,"width:".concat(o,"px;height:").concat(o,"px;"),Oo(this,Lo,Fo).bind(this),E("clear"),[this.elements,"clearBtn"]));l.after(s),s.prepend(l),"dark"===r&&s.classList.add(t.containerThemeDark),this.elements.container=s,Oo(this,jo,Go).call(this,l.value,!0)}Oo(this,Co,zo).call(this)}}},{key:"destroy",value:function(){if(this.isInited){var e=this.config.isNoInputMode,n=this.elements,r=n.input,o=n.container;e?(r.removeEventListener("click",this.handleInputReplacementClick),r.classList.remove(t.container)):(o.insertAdjacentElement("beforebegin",r),o.remove(),r.removeEventListener("input",this.handleInput),r.removeEventListener("focus",this.openPanel),r.removeEventListener("blur",this.handleInputBlur),r.removeEventListener("keydown",this.handleInputKeydown),r.style.removeProperty("padding-left"),r.removeAttribute("inputmode"),r.removeAttribute("autocomplete"),r.classList.remove(t.input)),this.panel&&this.panel.close(),this.isInited=!1,this.currentValues.color=null,this.currentValues.opacity=null,this.currentValues.gradient=null}}},{key:"handleInputBlur",value:function(){this.elements.input.value=Oo(this,No,Xo).call(this)}},{key:"handleInput",value:function(){var e=this.elements.input.value;Oo(this,jo,Go).call(this,e)}},{key:"handleInputKeydown",value:function(e){"Enter"===e.key&&(this.elements.input.value=Oo(this,No,Xo).call(this),this.closePanel())}},{key:"handleInputReplacementClick",value:function(){this.panel&&this.panel.isOpen?this.closePanel():this.openPanel()}},{key:"openPanel",value:function(){this.panel&&this.panel.isOpen||(this.panel||(this.panel=Oo(this,ko,Wo).call(this)),this.panel.open())}},{key:"closePanel",value:function(){this.panel&&!this.panel.isOpen||!this.panel||this.panel.close()}},{key:"dispatchColorChangeEvent",value:function(e){var t=this.currentValues.color,n=this.currentValues.opacity,r=this.currentValues.gradient,o=this.elements.input,i=new mo(t,n,r,e);o.dispatchEvent(i)}},{key:"panelElement",get:function(){return this.panel&&this.panel.element||null}},{key:"panelState",get:function(){return this.panel&&this.panel.isOpen||!1}},{key:"color",get:function(){return this.currentValues.color},set:function(e){if(this.isInited){var t=this.config,n=t.emptyColorKeywords,r=t.isOpacityEnabled,o=t.isGradientOpacityOnly,i=n.find((function(t){return t===e})),a=this.currentValues;if(!e||i)z(a,null,null,!1),this.emptyColorString=i||null;else{var l=O(e),s=4===l.length?l.pop():null;z(a,l,s=r&&!o?s:null,!1),this.emptyColorString=null}this.colorUpdateTrigger.trigger()}}},{key:"opacity",get:function(){return this.currentValues.opacity},set:function(e){if(this.isInited){var t=this.currentValues,n=this.config,r=n.isOpacityEnabled,o=n.isGradientOpacityOnly,i=K(e)&&e<=1&&e>=0?e:t.opacity;i=r&&!o?i:null,z(t,t.color,i,!1),this.colorUpdateTrigger.trigger()}}},{key:"gradient",get:function(){var e=JSON.parse(JSON.stringify(this.currentValues.gradient));return e&&("radial"===e.type&&"angle"in e&&delete e.angle,e.stops.forEach((function(e){null===e.opacity&&(e.opacity=1),"active"in e&&delete e.active}))),e},set:function(e){var t=this.config,n=t.isOpacityEnabled,r=t.isGradientsEnabled;if(this.isInited&&r){var o=this.currentValues;e&&Array.isArray(e.stops)&&e.stops.length?(n||e.stops.forEach((function(e){return e.opacity=null})),o.gradient=e,o.color=e.stops[0].color,o.opacity=e.stops[0].opacity):o.gradient=null,this.colorUpdateTrigger.trigger()}}},{key:"theme",set:function(e){this.isInited&&["light","dark"].includes(e)&&(this.elements.container.classList.toggle(t.containerThemeDark,"dark"===e),this.panel&&(this.panel.theme=e),this.config.theme=e)}}])&&_o(n.prototype,r),o&&_o(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}();function Wo(){var e=this.config,t=e.isOpacityEnabled,n=e.isGradientsEnabled,r=e.isGradientOpacityOnly,o=e.swatchesKey,i=e.theme,a=e.isNoInputMode,l=e.panelZIndex,s=e.noDocumentColors,c=e.panelGap,u=e.gradientHint,p=e.isTextContrastCheckEnabled,d=e.viewboxPadding,h=e.positionPriority,f=e.appendTo,y=this.colorChangeTrigger,g=this.colorUpdateTrigger,v=this.panelToggleTrigger,m=this.currentValues,b=this.elements,w=b.input,S=b.container;return new Hr({config:{isOpacityEnabled:t,isGradientsEnabled:n,isGradientOpacityOnly:r,swatchesKey:o,theme:i,isNoInputMode:a,panelZIndex:l,noDocumentColors:s,panelGap:c,gradientHint:u,isTextContrastCheckEnabled:p,viewboxPadding:d,positionPriority:h,appendTo:f},colorChangeTrigger:y,colorUpdateTrigger:g,panelToggleTrigger:v,currentValues:m,input:w,container:S})}function zo(){var e=this.elements.input,t=this.config,n=t.isNoInputMode,r=t.disablePanelToggleOnInputReplacementClick;n?r||e.addEventListener("click",this.handleInputReplacementClick):(e.addEventListener("input",this.handleInput),e.addEventListener("focus",this.openPanel),e.addEventListener("blur",this.handleInputBlur),e.addEventListener("keydown",this.handleInputKeydown))}function Go(e,t){var n=this.config,r=n.emptyColorKeywords,o=n.isGradientsEnabled,i=n.isOpacityEnabled,a=n.isGradientOpacityOnly,l=r.find((function(t){return t===e})),s=e.replace(/[^0-9A-Za-z]/g,""),c=this.currentValues;if(e&&s&&!l){var u=k(e);if(o&&u)i||u.stops.forEach((function(e){return e.opacity=1})),c.gradient=u,c.color=u.stops[0].color,c.opacity=u.stops[0].opacity;else{var p=O(e),d=4===p.length?p.pop():null;z(c,p,d=i&&!a?d:null,!1)}this.emptyColorString=null}else c.color=null,c.opacity=null,c.gradient=null,this.emptyColorString=l||null;t?this.colorUpdateTrigger.trigger():this.colorChangeTrigger.trigger()}function Fo(){var e=this.elements.input;e.value="",e.dispatchEvent(new Event("input"))}function Ro(){this.elements.input.focus()}function Bo(){this.elements.container.classList.add("".concat(t.container,"_clear-btn-visible"))}function Ko(){var e=this.elements.container;this.panel&&this.panel.isOpen||e.classList.remove("".concat(t.container,"_clear-btn-visible"))}function Ho(e){var t=this.elements.input,n=new vo(e);t.dispatchEvent(n),e||Oo(this,Ao,Ko).call(this)}function Xo(){var e=this.config,t=e.format,n=e.letterCase,r=e.isGradientsEnabled,o=this.currentValues.color,i=this.currentValues.gradient;if(!o)return this.emptyColorString||"";var a="";if(r&&i)a=W(i);else if("hex"===t)a="#".concat(A(o));else if("rgb"===t)a="rgb(".concat(L(o).join(","),")");else if("hsl"===t){var l=wo(o,3),s=l[0],c=l[1],u=l[2];s=Math.round(360*s),c=Math.round(100*c),u=Math.round(100*u),a="hsl(".concat(s,",").concat(c,"%,").concat(u,"%)")}return"uppercase"!==n||a.includes("gradient")?a.toLowerCase():a.toUpperCase()}function qo(e){this.colorUpdateTrigger.trigger(e);var t=e&&e.isPanelButton,n=this.config.isNoInputMode,r=n&&t||!n?"colorchange":"colorupdate";this.dispatchColorChangeEvent(r)}function Yo(){var e=this.config,n=e.isNoInputMode,r=e.isGradientsEnabled;if(!n){var o=this.elements,i=o.input,a=o.container,l=o.clearBtn,s=this.currentValues,c=s.color,u=s.opacity,p=s.gradient,d=this.panel&&this.panel.isOpen,h="";r&&p?(h=W(p),this.emptyColorString=null,d&&a.classList.add("".concat(t.container,"_clear-btn-visible"))):c&&(h=V(c,u),this.emptyColorString=null,d&&a.classList.add("".concat(t.container,"_clear-btn-visible"))),!c&&l?l.style.display="none":l&&l.style.removeProperty("display"),a.style.setProperty("--current-color",h),document.activeElement!==i&&(i.value=Oo(this,No,Xo).call(this))}}window.TColorPicker=Vo})();